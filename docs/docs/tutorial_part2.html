<!DOCTYPE HTML>
<head><link rel="stylesheet" href="/js/codemirror_5.63.0/codemirror_bundled.css">
<script src="/js/codemirror_5.63.0/codemirror_bundled.js"></script>


        <meta charset="utf8" />
        <script src="/js/Modulo.js"></script>
        <script>
        if (!Modulo.fetchQ) {
            Modulo.fetchQ = new Modulo.FetchQueue();
            Modulo.assets = new Modulo.AssetManager();
        }
        window.onload = () => {
            Modulo.fetchQ.wait(() => {
                Modulo.defineAll();
            });
        };
        </script>
    

<script> Modulo.defineAll() </script>

<script>window.onload = () => Modulo.defineAll();</script>



<script>"use strict";Modulo.assets.functions["x11m00cs"]= function (Modulo, factory, module, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }

        let txt;

        function sloccount() {
            if (!txt) {
                txt = Modulo.require('fs').readFileSync('./src/Modulo.js', 'utf8');
            }
            return Modulo.require('sloc')(txt, 'js').source;
        }

        function checksum() {
            if (!txt) {
                txt = Modulo.require('fs').readFileSync('./src/Modulo.js', 'utf8');
            }
            const CryptoJS = Modulo.require("crypto-js");
            const hash = CryptoJS['SHA384'](txt);
            return hash.toString(CryptoJS.enc.Base64);
            //const shaObj = new jsSHA("SHA-384", "TEXT", { encoding: "UTF8" });

            //shaObj.update(txt);
            //const hash = shaObj.getHash("B64");
            //return hash;
        }

        function getGlobalInfo() {
            // Only do once to speed up SSG
            //console.log('this is Modulo', Object.keys(Modulo));
            if (!Modulo.isBackend) {
                return;
            }
            if (!Modulo.ssgStore.versionInfo) {
                const bytes = Modulo.require('fs').readFileSync('./package.json');
                const data = JSON.parse(bytes);
                Modulo.ssgStore.versionInfo = {
                    version: data.version,
                    sloc: sloccount(),
                    checksum: checksum(),
                };
            }
            return Modulo.ssgStore.versionInfo;
        }

        // https://stackoverflow.com/questions/400212/
        const {document, navigator} = Modulo.globals;
        function fallbackCopyTextToClipboard(text) {
            console.count('fallbackCopyTextToClipboard');
            var textArea = document.createElement("textarea");
            textArea.value = text;

            // Avoid scrolling to bottom
            textArea.style.top = "0";
            textArea.style.left = "0";
            textArea.style.position = "fixed";

            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();

            try {
                var successful = document.execCommand('copy');
                var msg = successful ? 'successful' : 'unsuccessful';
                //console.log('Fallback: Copying text command was ' + msg);
            } catch (err) {
                //console.error('Fallback: Oops, unable to copy', err);
            }

            document.body.removeChild(textArea);
        }

        function copyTextToClipboard(text) {
            if (!navigator.clipboard) {
                fallbackCopyTextToClipboard(text);
                return;
            }
            navigator.clipboard.writeText(text).then(function() {
                //console.log('Async: Copying to clipboard was successful!');
            }, function(err) {
                console.error('Async: Could not copy text: ', err);
            });
        }
    
return { "sloccount": typeof sloccount !== "undefined" ? sloccount : undefined,
"checksum": typeof checksum !== "undefined" ? checksum : undefined,
"getGlobalInfo": typeof getGlobalInfo !== "undefined" ? getGlobalInfo : undefined,
"fallbackCopyTextToClipboard": typeof fallbackCopyTextToClipboard !== "undefined" ? fallbackCopyTextToClipboard : undefined,
"copyTextToClipboard": typeof copyTextToClipboard !== "undefined" ? copyTextToClipboard : undefined,
 setLocalVariable: __set, exports: script.exports}
};</script><script>"use strict";Modulo.assets.functions["x1kg0tea"]= function (Modulo, factory, module, component, props, template, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'component') component = value; if (name === 'props') props = value; if (name === 'template') template = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }

        function initializedCallback() {
            //console.log('this is module', module);
            if (Modulo.isBackend && module) {
                //Modulo.ssgStore.navbar = module.script.getGlobalInfo();
                //Object.assign(script.exports, Modulo.ssgStore.navbar);
                const info = module.script.getGlobalInfo();
                Object.assign(script.exports, info);
                // Store results in DOM for FE JS
                element.setAttribute('script-exports', JSON.stringify(script.exports));
            } else if (element.getAttribute('script-exports')) {
                // FE JS, retrieve from DOM
                const dataStr = element.getAttribute('script-exports');
                Object.assign(script.exports, JSON.parse(dataStr));
            } else {
                //console.log('Warning: Couldnt get global info');
            }
        }
    
return { "initializedCallback": typeof initializedCallback !== "undefined" ? initializedCallback : undefined,
 setLocalVariable: __set, exports: script.exports}
};</script><script>"use strict";Modulo.assets.functions["x1gol8eg"]= function (Modulo, factory, module, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }

        // Splits up own source-code to get source for each example
        const mySrc = '/components/examplelib.html';
        const myText = Modulo.fetchQ.data[mySrc];
        const componentTexts = {};
        if (myText) {
            let name = '';
            let currentComponent = '';
            let inTestSuite = false;
            for (const line of myText.split('\n')) {
                const lower = line.toLowerCase();
                if (lower.startsWith('</component>')) {
                    componentTexts[name] = currentComponent;
                    currentComponent = '';
                    name = null;
                } else if (lower.startsWith('<component')) {
                    name = line.split(' name="')[1].split('"')[0];
                } else if (lower.startsWith('<testsuite')) {
                    inTestSuite = true;
                } else if (lower.includes('</testsuite>')) {
                    inTestSuite = false;
                } else if (name && !inTestSuite) {
                    currentComponent += line + '\n';
                }
            }
        }
        script.exports.componentTexts = componentTexts;
    
return {  setLocalVariable: __set, exports: script.exports}
};</script><script>"use strict";Modulo.assets.functions["1n5m36a"]= function (Modulo, factory, module, component, template, state, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'component') component = value; if (name === 'template') template = value; if (name === 'state') state = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }

    function countUp() {
        state.num++;
    }

return { "countUp": typeof countUp !== "undefined" ? countUp : undefined,
 setLocalVariable: __set, exports: script.exports}
};</script><style>
eg-Simple em { color: darkgreen; }
eg-Simple * { text-decoration: underline; }
</style><script>"use strict";Modulo.assets.functions["x1cdn50g"]= function (Modulo, factory, module, component, template, state, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'component') component = value; if (name === 'template') template = value; if (name === 'state') state = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }

    function addItem() {
        state.list.push(state.text); // add to list
        state.text = ""; // clear input
    }

return { "addItem": typeof addItem !== "undefined" ? addItem : undefined,
 setLocalVariable: __set, exports: script.exports}
};</script><script>"use strict";Modulo.assets.functions["dfca1k"]= function (Modulo, factory, module, component, template, state, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'component') component = value; if (name === 'template') template = value; if (name === 'state') state = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }

    function fetchGitHub() {
        fetch(`https://api.github.com/users/${state.search}`)
            .then(response => response.json())
            .then(githubCallback);
    }
    function githubCallback(apiData) {
        state.name = apiData.name;
        state.location = apiData.location;
        state.bio = apiData.bio;
        element.rerender();
    }

return { "fetchGitHub": typeof fetchGitHub !== "undefined" ? fetchGitHub : undefined,
"githubCallback": typeof githubCallback !== "undefined" ? githubCallback : undefined,
 setLocalVariable: __set, exports: script.exports}
};</script><script>"use strict";Modulo.assets.functions["o25k49"]= function (Modulo, factory, module, component, template, state, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'component') component = value; if (name === 'template') template = value; if (name === 'state') state = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }

    // Because this variable is created "loose" in the script tag, it becomes a
    // static variable global to all instances of this class (though,
    // thankfully, not global in general -- it's still in an "IFFE")
    // (If we had wanted individual components to be debounced, we'd have
    // needed to attach it to state in the initializedCallback)
    let _globalDebounceTimeout = null;
    function _globalDebounce(func) {
        if (_globalDebounceTimeout) {
            clearTimeout(_globalDebounceTimeout);
        }
        _globalDebounceTimeout = setTimeout(func, 500);
    }

    function typingCallback() {
        state.loading = true;
        const apiBase = 'http://openlibrary.org/search.json'
        const search = `q=${state.search}`;
        const opts = 'limit=6&fields=title,author_name,cover_i';
        const url = `${apiBase}?${search}&${opts}`;
        _globalDebounce(() => {
            fetch(url)
                .then(response => response.json())
                .then(dataBackCallback);
        });
    }

    function dataBackCallback(data) {
        state.results = data.docs;
        state.loading = false;
        element.rerender();
    }

    // Puting this long URL down here to declutter
    script.exports.loadingGif = ('https://cdnjs.cloudflare.com/ajax/libs/' +
                                 'semantic-ui/0.16.1/images/loader-large.gif');

return { "_globalDebounce": typeof _globalDebounce !== "undefined" ? _globalDebounce : undefined,
"typingCallback": typeof typingCallback !== "undefined" ? typingCallback : undefined,
"dataBackCallback": typeof dataBackCallback !== "undefined" ? dataBackCallback : undefined,
 setLocalVariable: __set, exports: script.exports}
};</script><style>
eg-SearchBox SearchBox {
        position: relative;
        display: block;
        width: 300px;
    }
eg-SearchBox input {
        padding: 8px;
        background: coral;
        color: white;
        width: 200px;
        border: none;
    }
eg-SearchBox input::after {
        content: '\1F50E';
    }
eg-SearchBox .results-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
    }
eg-SearchBox .results {
        position: absolute;
        height: 0;
        width: 0;
        overflow: hidden;
        display: block;
        border: 2px solid coral;
        border-radius: 0 0 20px 20px;
        transition: height 2s;
        z-index: 1;
        background: white;
    }
eg-SearchBox .results.visible {
        height: 200px;
        width: 200px;
    }
eg-SearchBox .result {
        padding: 10px;
        width: 80px;
        position: relative;
    }
eg-SearchBox .result label {
        position: absolute;
        width: 80px;
        background: rgba(255, 255, 255, 0.5);
        font-size: 0.7rem;
        top: 0;
        left: 0;
    }
</style><script>"use strict";Modulo.assets.functions["1iu3f2i"]= function (Modulo, factory, module, component, template, state, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'component') component = value; if (name === 'template') template = value; if (name === 'state') state = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }

    // Getting big a range of numbers in JS. Use "script.exports"
    // to export this as a one-time global constant.
    // (Hint: Curious how it calculates prime? See CSS!)
    script.exports.range = 
        Array.from({length: 63}, (x, i) => i + 2);
    function setNum(payload, ev) {
        state.number = Number(ev.target.textContent);
    }

return { "setNum": typeof setNum !== "undefined" ? setNum : undefined,
 setLocalVariable: __set, exports: script.exports}
};</script><style>
eg-PrimeSieve .grid {
    display: grid;
    grid-template-columns: repeat(9, 1fr);
    color: #ccc;
    font-weight: bold;
    width: 100%;
    margin: -5px;
}
eg-PrimeSieve .grid > div {
    border: 1px solid #ccc;
    cursor: crosshair;
    transition: 0.2s;
}
eg-PrimeSieve div.whole {
    color: white;
    background: #B90183;
}
eg-PrimeSieve div.hidden {
    background: #ccc;
    color: #ccc;
}

/* Color green and add asterisk */
eg-PrimeSieve div.number { background: green; }
eg-PrimeSieve div.number::after { content: "*"; }
/* Check for whole factors (an adjacent div.whole).
eg-PrimeSieve If found, then hide asterisk and green */
eg-PrimeSieve div.whole ~ div.number { background: #B90183; }
eg-PrimeSieve div.whole ~ div.number::after { opacity: 0; }
</style><script>"use strict";Modulo.assets.functions["x1as77n0"]= function (Modulo, factory, module, component, template, state, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'component') component = value; if (name === 'template') template = value; if (name === 'state') state = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }

const symbolsStr = "%!@#=?&+~÷≠∑µ‰∂Δƒσ"; // 16 options
function setup(payload) {
    const count = Number(payload);
    let symbols = symbolsStr.substr(0, count/2).split("");
    symbols = symbols.concat(symbols); // duplicate cards
    let id = 0;
    while (id < count) {
        const index = Math.floor(Math.random()
                                    * symbols.length);
        const symbol = symbols.splice(index, 1)[0];
        state.cards.push({symbol, id});
        id++;
    }
}

function failedFlipCallback() {
    // Remove both from revealed array & set to null
    state.revealed = state.revealed.filter(
            id => id !== state.failedflip
                    && id !== state.lastflipped);
    state.failedflip = null;
    state.lastflipped = null;
    state.message = "";
    element.rerender();
}

function flip(id) {
    if (state.failedflip !== null) {
        return;
    }
    id = Number(id);
    if (state.revealed.includes(id)) {
        return; // double click
    } else if (state.lastflipped === null) {
        state.lastflipped = id;
        state.revealed.push(id);
    } else {
        state.revealed.push(id);
        const {symbol} = state.cards[id];
        const lastCard = state.cards[state.lastflipped];
        if (symbol === lastCard.symbol) {
            // Successful match! Check for win.
            const {revealed, cards} = state;
            if (revealed.length === cards.length) {
                state.message = "You win!";
                state.win = true;
            } else {
                state.message = "Nice match!";
            }
            state.lastflipped = null;
        } else {
            state.message = "No match.";
            state.failedflip = id;
            setTimeout(failedFlipCallback, 1000);
        }
    }
}

return { "setup": typeof setup !== "undefined" ? setup : undefined,
"failedFlipCallback": typeof failedFlipCallback !== "undefined" ? failedFlipCallback : undefined,
"flip": typeof flip !== "undefined" ? flip : undefined,
 setLocalVariable: __set, exports: script.exports}
};</script><style>
eg-MemoryGame h3 {
    background: #B90183;
    border-radius: 8px;
    text-align: center;
    color: white;
    font-weight: bold;
}
eg-MemoryGame .board {
    display: grid;
    grid-template-rows: repeat(4, 1fr);
    grid-template-columns: repeat(4, 1fr);
    grid-gap: 2px;
    width: 100%;
    height: 150px;
    width: 150px;
}
eg-MemoryGame .board.hard {
    grid-gap: 1px;
    grid-template-rows: repeat(6, 1fr);
    grid-template-columns: repeat(6, 1fr);
}
eg-MemoryGame .board > .card {
    background: #B90183;
    border: 2px solid black;
    border-radius: 1px;
    cursor: pointer;
    text-align: center;
    min-height: 15px;
    transition: background 0.3s, transform 0.3s;
    transform: scaleX(-1);
    padding-top: 2px;
    color: #B90183;
}
eg-MemoryGame .board.hard > .card {
    border: none !important;
    padding: 0;
}
eg-MemoryGame .board > .card.flipped {
    background: #FFFFFF;
    border: 2px solid #B90183;
    transform: scaleX(1);
}

@keyframes flipping {
from { transform: scaleX(-1.1); background: #B90183; }
to {   transform: scaleX(1.0);  background: #FFFFFF; }
}
</style><script>"use strict";Modulo.assets.functions["13lid16"]= function (Modulo, factory, module, component, template, state, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'component') component = value; if (name === 'template') template = value; if (name === 'state') state = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }

    function toggle([ i, j ]) {
        if (!state.cells[i]) {
            state.cells[i] = {};
        }
        state.cells[i][j] = !state.cells[i][j];
    }

    function play() {
        state.playing = true;
        setTimeout(() => {
            if (state.playing) {
                updateNextFrame();
                element.rerender(); // manually rerender
                play(); // cue next frame
            }
        }, 2000 / state.speed);
    }

    function pause() {
        state.playing = false;
    }

    function clear() {
        state.cells = {};
    }

    function randomize() {
        for (const i of script.exports.range) {
            for (const j of script.exports.range) {
                if (!state.cells[i]) {
                    state.cells[i] = {};
                }
                state.cells[i][j] = (Math.random() > 0.5);
            }
        }
    }

    // Helper function for getting a cell from data
    const get = (i, j) => Boolean(state.cells[i] && state.cells[i][j]);
    function updateNextFrame() {
        const nextData = {};
        for (const i of script.exports.range) {
            for (const j of script.exports.range) {
                if (!nextData[i]) {
                    nextData[i] = {};
                }
                const count = countNeighbors(i, j);
                nextData[i][j] = get(i, j) ?
                    (count === 2 || count === 3) : // stays alive
                    (count === 3); // comes alive
            }
        }
        state.cells = nextData;
    }

    function countNeighbors(i, j) {
        const neighbors = [get(i - 1, j), get(i - 1, j - 1), get(i, j - 1),
                get(i + 1, j), get(i + 1, j + 1), get(i, j + 1),
                get(i + 1, j - 1), get(i - 1, j + 1)];
        return neighbors.filter(v => v).length;
    }
    script.exports.range = Array.from({length: 24}, (x, i) => i);

return { "toggle": typeof toggle !== "undefined" ? toggle : undefined,
"play": typeof play !== "undefined" ? play : undefined,
"pause": typeof pause !== "undefined" ? pause : undefined,
"clear": typeof clear !== "undefined" ? clear : undefined,
"randomize": typeof randomize !== "undefined" ? randomize : undefined,
"updateNextFrame": typeof updateNextFrame !== "undefined" ? updateNextFrame : undefined,
"countNeighbors": typeof countNeighbors !== "undefined" ? countNeighbors : undefined,
 setLocalVariable: __set, exports: script.exports}
};</script><style>
eg-ConwayGameOfLife {
        display: flex;
    }
eg-ConwayGameOfLife .grid {
        display: grid;
        grid-template-columns: repeat(24, 5px);
        margin: -2px;
        grid-gap: 1px;
    }
eg-ConwayGameOfLife .grid > div {
        background: white;
        width: 5px;
        height: 5px;
    }
eg-ConwayGameOfLife input,eg-ConwayGameOfLife button {
        width: 40px;
    }
</style><script>"use strict";Modulo.assets.functions["uon9pj"]= function (Modulo, factory, module, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }

        // Splits up own source-code to get source for each example
        let myText = Modulo.fetchQ.data['/components/embeddedexampleslib.html'];
        //console.log('this si keys', Object.keys(Modulo.fetchQ.data));
        //console.log('this si myText', myText);
        const componentTexts = {};
        if (!myText) {
            console.error('ERROR: Could not load own text :(');
            myText = '';
        }
        let name = '';
        let currentComponent = '';
        let inTestSuite = false;
        for (const line of myText.split('\n')) {
            const lower = line.toLowerCase();
            if (lower.startsWith('</component>')) {
                componentTexts[name] = currentComponent;
                currentComponent = '';
                name = null;
            } else if (lower.startsWith('<component')) {
                name = line.split(' name="')[1].split('"')[0];
            } else if (lower.startsWith('<testsuite')) {
                inTestSuite = true;
            } else if (lower.includes('</testsuite>')) {
                inTestSuite = false;
            } else if (name && !inTestSuite) {
                currentComponent += line + '\n';
            }
        }
        script.exports.componentTexts = componentTexts;
    
return {  setLocalVariable: __set, exports: script.exports}
};</script><script>"use strict";Modulo.assets.functions["x648bme"]= function (Modulo, factory, module, component, template, state, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'component') component = value; if (name === 'template') template = value; if (name === 'state') state = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }

    script.exports.title = "ModuloNews";

return {  setLocalVariable: __set, exports: script.exports}
};</script><script>"use strict";Modulo.assets.functions["xa49eup"]= function (Modulo, factory, module, component, template, state, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'component') component = value; if (name === 'template') template = value; if (name === 'state') state = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }

    function prepareCallback() {
        const calcResult = (state.perc / 100) * state.total;
        return { calcResult };
    }

return { "prepareCallback": typeof prepareCallback !== "undefined" ? prepareCallback : undefined,
 setLocalVariable: __set, exports: script.exports}
};</script><style>
docseg-Templating_PrepareCallback input { display: inline; width: 25px }
</style><style>
docseg-Templating_Escaping .msgcontent {
        background: #999;
        padding: 10px;
        margin: 10px;
    }
</style><style>
/* ...and any CSS here! */
docseg-Tutorial_P1 strong {
    color: blue;
}
docseg-Tutorial_P1 .neat {
    font-variant: small-caps;
}
docseg-Tutorial_P1 { /* styles the entire component */
    display: inline-block;
    background-color: cornsilk;
    padding: 5px;
    box-shadow: 10px 10px 0 0 turquoise;
}
</style><style>
docseg-Tutorial_P3_state_demo {
        font-size: 0.8rem;
    }
</style><style>
mws-Section Section {
            position: relative;
        }
mws-Section h2 {
            font-weight: bold;
            color: var(--highlight-color);
            margin-bottom: 0;
        }
mws-Section a.secanchor {
            padding-top: 100px;
            color: var(--highlight-color);
            opacity: 0.3;
            display: block;
        }
mws-Section Section:hover .Section-helper {
            opacity: 1.0;
        }
    </style><script>"use strict";Modulo.assets.functions["nienp6"]= function (Modulo, factory, module, component, template, state, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'component') component = value; if (name === 'template') template = value; if (name === 'state') state = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }

        // console.info('factory method of ErrorCauser');
        function countUp() {
            state.num++;
        }

        function makeError() {
            console.info('makeError callback happening');
            const a = 10;
            a(); // cause error
        }
    
return { "countUp": typeof countUp !== "undefined" ? countUp : undefined,
"makeError": typeof makeError !== "undefined" ? makeError : undefined,
 setLocalVariable: __set, exports: script.exports}
};</script><style>
mws-ErrorCauser * {
            color: orangered !important;
            background: black !important;
            border: blue 5px solid;
            padding: 10px;
        }
    </style><script>"use strict";Modulo.assets.functions["xpmo3gd"]= function (Modulo, factory, module, component, props, template, state, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'component') component = value; if (name === 'props') props = value; if (name === 'template') template = value; if (name === 'state') state = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }
let componentTexts = null;
let componentTexts2 = null;
let exCounter = 0; // global variable

//console.log('this is demo.js');

function _setupGlobalVariables() {
    // TODO: Refactor this, obvs
    // Get text from the two example component libraries
    //console.log('this is registered Modulo instances', Object.keys(Modulo.factoryInstances));
    try {
        componentTexts = Modulo.factoryInstances['eg-eg']
                .baseRenderObj.script.exports.componentTexts;
    } catch (err) {
        console.log('couldnt get componentTexts:', err);
        componentTexts = null;
    }

    try {
        componentTexts2 = Modulo.factoryInstances['docseg-docseg']
                .baseRenderObj.script.exports.componentTexts;
    } catch (err) {
        console.log('couldnt get componentTexts2:', err);
        componentTexts2 = null;
    }

    if (componentTexts) {
        componentTexts = Object.assign({}, componentTexts, componentTexts2);
    }
}

function tmpGetDirectives() {
    return [ 'script.codemirror' ];
}

function codemirrorMount({ el }) {
    //console.log('codeMirrorMount', { el });
    el.innerHTML = ''; // clear inner HTML before mounting
    const demoType = props.demotype || 'snippet';
    //_setupCodemirror(el, demoType, element, state);
    _setupCodemirrorSync(el, demoType, element, state);
}

function _setupCodemirrorSync(el, demoType, myElement, myState) {
      let readOnly = false;
      let lineNumbers = true;
      if (demoType === 'snippet') {
          readOnly = true;
          lineNumbers = false;
      }

      const conf = {
          value: myState.text,
          mode: 'django',
          theme: 'eclipse',
          indentUnit: 4,
          readOnly,
          lineNumbers,
      };

      if (demoType === 'snippet') {
          myState.showclipboard = true;
      } else if (demoType === 'minipreview') {
          myState.showpreview = true;
      }

      if (!myElement.codeMirrorEditor) {
          myElement.codeMirrorEditor = Modulo.globals.CodeMirror(el, conf);
      }
      myElement.codeMirrorEditor.refresh()
}

function _setupCodemirror(el, demoType, myElement, myState) {
    //console.log('_setupCodemirror DISABLED'); return; ///////////////////
    let expBackoff = 10;
    //console.log('this is codemirror', Modulo.globals.CodeMirror);
    const mountCM = () => {
        // TODO: hack, allow JS deps or figure out loader or something
        if (!Modulo.globals.CodeMirror) {
            expBackoff *= 2;
            setTimeout(mountCM, expBackoff); // poll again
            return;
        }

        let readOnly = false;
        let lineNumbers = true;
        if (demoType === 'snippet') {
            readOnly = true;
            lineNumbers = false;
        }

        const conf = {
            value: myState.text,
            mode: 'django',
            theme: 'eclipse',
            indentUnit: 4,
            readOnly,
            lineNumbers,
        };

        if (demoType === 'snippet') {
            myState.showclipboard = true;
        } else if (demoType === 'minipreview') {
            myState.showpreview = true;
        }

        if (!myElement.codeMirrorEditor) {
            myElement.codeMirrorEditor = Modulo.globals.CodeMirror(el, conf);
        }
        myElement.codeMirrorEditor.refresh()
        //myElement.rerender();
    };
    mountCM();
    return;
    const {isBackend} = Modulo;
    if (!isBackend) {
        // TODO: Ugly hack, need better tools for working with legacy
        setTimeout(mountCM, expBackoff);
    }
}

function selectTab(newTitle) {
    //console.log('tab getting selected!', newTitle);
    if (!element.codeMirrorEditor) {
        return; // not ready yet
    }
    const currentTitle = state.selected;
    state.selected = newTitle;
    for (const tab of state.tabs) {
        if (tab.title === currentTitle) { // save text back to state
            tab.text = element.codeMirrorEditor.getValue();
        } else if (tab.title === newTitle) {
            state.text = tab.text;
        }
    }
    element.codeMirrorEditor.setValue(state.text);
    doRun();
}

function doCopy() {
    let mod = Modulo.factoryInstances['x-x'].baseRenderObj;
    if (!mod || !mod.script || !mod.script.copyTextToClipboard) {
        console.log('no mod!');
    } else {
        mod.script.copyTextToClipboard(state.text);
    }
}

function initializedCallback() {
    // console.log('initializedCallback');
    if (componentTexts === null) {
        _setupGlobalVariables();
    }

    let text;
    state.tabs = [];
    if (props.fromlibrary) {
        if (!componentTexts) {
            componentTexts = false;
            throw new Error('Couldnt load:', props.fromlibrary)
        }

        const componentNames = props.fromlibrary.split(',');
        for (const title of componentNames) {
            if (title in componentTexts) {
                text = componentTexts[title].trim();
                text = text.replace(/&#39;/g, "'"); // correct double escape
                state.tabs.push({ text, title });
            } else {
                console.error('invalid fromlibrary:', title);
                console.log(componentTexts);
                return;
            }
        }
    } else if (props.text) {
        let title = props.ttitle || 'Example';
        text = props.text.trim();
        state.tabs.push({title, text});
        // hack -v
        if (props.text2) {
            title = props.ttitle2 || 'Example';
            text = props.text2.trim();
            state.tabs.push({title, text});
        }
        if (props.text3) {
            title = props.ttitle3 || 'Example';
            text = props.text3.trim();
            state.tabs.push({title, text});
        }
        //console.log('this is props', props);
    }

    const demoType = props.demotype || 'snippet';
    if (demoType === 'snippet') {
        state.showclipboard = true;
    } else if (demoType === 'minipreview') {
        state.showpreview = true;
    }

    state.text = state.tabs[0].text; // load first

    state.selected = state.tabs[0].title; // set first as tab title
    //setupShaChecksum();
    if (demoType === 'minipreview') {
        doRun();
    }

    const myElem = element;
    const myState = state;
    const {isBackend} = Modulo;
    return;
    if (!isBackend) {
        setTimeout(() => {
            const div = myElem.querySelector('.editor-wrapper > div');
            _setupCodemirror(div, demoType, myElem, myState);
        }, 0); // put on queue
    }
}

function doRun() {
    exCounter++;
    //console.log('There are ', exCounter, ' examples on this page. Gee!')
    const namespace = `e${exCounter}g${state.nscounter}`; // TODO: later do hot reloading using same loader
    state.nscounter++;
    const attrs = { src: '', namespace };
    const tagName = 'Example';

    if (element.codeMirrorEditor) {
        state.text = element.codeMirrorEditor.getValue(); // make sure most up-to-date
    }
    let componentDef = state.text;
    componentDef = `<component name="${tagName}">\n${componentDef}\n</component>`;
    const loader = new Modulo.Loader(null, { attrs } );
    loader.loadString(componentDef);
    const fullname = `${namespace}-${tagName}`;
    const factory = Modulo.factoryInstances[fullname];
    state.preview = `<${fullname}></${fullname}>`;

    // Hacky way to mount, required due to buggy dom resolver
    const {isBackend} = Modulo;
    if (!isBackend) {
        setTimeout(() => {
            const div = element.querySelector('.editor-minipreview > div');
            if (div) {
                div.innerHTML = state.preview;
            } else {
                console.log('warning, cant update minipreview', div);
            }
        }, 0);
    }
}

function countUp() {
    // TODO: Remove this when resolution context bug is fixed so that children
    // no longer can reference parents
    console.count('PROBLEM: Child event bubbling to parent!');
}

function doFullscreen() {
    document.body.scrollTop = document.documentElement.scrollTop = 0;
    if (state.fullscreen) {
        state.fullscreen = false;
        document.querySelector('html').style.overflow = "auto";
        if (element.codeMirrorEditor) {
            element.codeMirrorEditor.refresh()
        }
    } else {
        state.fullscreen = true;
        const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
        const vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);

        // TODO: way to share variables in CSS
        if (vw > 768) {
              document.querySelector('html').style.overflow = "hidden";
              if (element.codeMirrorEditor) {
                  element.codeMirrorEditor.refresh()
              }
        }
    }
    if (element.codeMirrorEditor) {
        //element.codeMirrorEditor.refresh()
    }
}

/*
function previewspotMount({ el }) {
    element.previewSpot = el;
    if (!element.isMounted) {
        doRun(); // mount after first render
    }
}


function setupShaChecksum() {
    console.log('setupShaChecksum DISABLED'); return; ///////////////////

    let mod = Modulo.factoryInstances['x-x'].baseRenderObj;
    if (Modulo.isBackend && state && state.text.includes('$modulojs_sha384_checksum$')) {
        if (!mod || !mod.script || !mod.script.getVersionInfo) {
            console.log('no mod!');
        } else {
            const info = mod.script.getVersionInfo();
            const checksum = info.checksum || '';
            state.text = state.text.replace('$modulojs_sha384_checksum$', checksum)
            element.setAttribute('text', state.text);
        }
    }
}
*/

/*
const component = factory.createTestElement();
component.remove()
console.log(component);
element.previewSpot.innerHTML = '';
element.previewSpot.appendChild(component);
*/


return { "_setupGlobalVariables": typeof _setupGlobalVariables !== "undefined" ? _setupGlobalVariables : undefined,
"tmpGetDirectives": typeof tmpGetDirectives !== "undefined" ? tmpGetDirectives : undefined,
"codemirrorMount": typeof codemirrorMount !== "undefined" ? codemirrorMount : undefined,
"_setupCodemirrorSync": typeof _setupCodemirrorSync !== "undefined" ? _setupCodemirrorSync : undefined,
"_setupCodemirror": typeof _setupCodemirror !== "undefined" ? _setupCodemirror : undefined,
"selectTab": typeof selectTab !== "undefined" ? selectTab : undefined,
"doCopy": typeof doCopy !== "undefined" ? doCopy : undefined,
"initializedCallback": typeof initializedCallback !== "undefined" ? initializedCallback : undefined,
"doRun": typeof doRun !== "undefined" ? doRun : undefined,
"countUp": typeof countUp !== "undefined" ? countUp : undefined,
"doFullscreen": typeof doFullscreen !== "undefined" ? doFullscreen : undefined,
"previewspotMount": typeof previewspotMount !== "undefined" ? previewspotMount : undefined,
"setupShaChecksum": typeof setupShaChecksum !== "undefined" ? setupShaChecksum : undefined,
 setLocalVariable: __set, exports: script.exports}
};</script><style>mws-Demo .demo-wrapper.demo-wrapper__minipreview .CodeMirror {
    height: 200px;
}

mws-Demo .demo-wrapper.demo-wrapper__clipboard .CodeMirror {
    height: auto;
}

mws-Demo .demo-wrapper.demo-wrapper__clipboard .CodeMirror * {
    font-family: monospace;
    font-size: 1rem;
}

mws-Demo .demo-wrapper.demo-wrapper__minipreview .CodeMirror * {
    font-family: monospace;
    font-size: 14px;
}

mws-Demo .demo-wrapper.demo-wrapper__fullscreen .CodeMirror {
    height: 87vh;
}
mws-Demo .demo-wrapper.demo-wrapper__fullscreen .CodeMirror * {
    font-family: monospace;
    font-size: 16px;
}

mws-Demo .demo-wrapper {
    position: relative;
    display: block;
    width: 100%;
}

mws-Demo .Main--fluid  .demo-wrapper.demo-wrapper__minipreview   {
    /* Make look better in Docs */
    max-width: 900px;
}
mws-Demo .Main--fluid  .demo-wrapper.demo-wrapper__minipreview.demo-wrapper__fullscreen  {
    /* ...except if full screen */
    max-width: 100vw;
}

mws-Demo .demo-wrapper.demo-wrapper__fullscreen {
    position: absolute;
    display: block;
    width: 100vw;
    height: 100vh;
    z-index: 100;
    top: 0;
    left: 0;
    box-sizing: border-box;
    padding: 20px;
    background: white;
}

/* No tabs sitch: */
mws-Demo .demo-wrapper__notabs .editor-minipreview {
    margin-top: 40px;
    margin-left: 5px;
    border: 1px solid #999;
    height: 160px;
}

mws-Demo .demo-wrapper__fullscreen.demo-wrapper__notabs .editor-minipreview {
    margin-top: 65px;
}

mws-Demo .editor-toolbar {
    position: absolute;
    z-index: 3;
    display: flex;
    width: auto;
    /*right: -70px;*/
    right: 30px;
    top: 0;
    height: 35px;
    padding: 2px;
    border: #ddd 1px solid;
}



mws-Demo .demo-wrapper__fullscreen .editor-toolbar {
    height: 60px;
    padding: 10px;
}


mws-Demo .demo-wrapper__minipreview  .editor-wrapper {
    width: 78%;
    border: 1px solid black;
}
mws-Demo .Main--fluid  .demo-wrapper__minipreview  .editor-wrapper {
}

mws-Demo .demo-wrapper.demo-wrapper__clipboard .editor-wrapper {
    border: 1px dotted #ddd;
    width: 100%;
}

mws-Demo .demo-wrapper__minipreview.demo-wrapper__fullscreen .editor-wrapper {
    border: 5px solid black;
    border-radius: 1px 8px 1px 8px;
    border-bottom-width: 1px;
    border-right-width: 1px;
}

mws-Demo .editor-minipreview {
    border: 1px solid black;
    border-radius: 1px;
    background: #eee;
    padding: 5px;
    border-left: none;
    width: 200px;
    height: 200px;
    overflow-y: auto;
}
mws-Demo .editor-minipreview > div > * > input {
  max-width: 175px;
}

mws-Demo .demo-wrapper__fullscreen .editor-minipreview {
    width: 30vw;
    height: auto;
    border: 1px solid black;
    margin: 20px;
    padding: 30px;
    border: 5px solid black;
    border-radius: 1px 8px 1px 8px;
    border-bottom-width: 1px;
    border-right-width: 1px;
}

mws-Demo .side-by-side-panes {
    display: flex;
    justify-content: space-between;
}

mws-Demo .TabNav {
    /*border-bottom: 1px dotted var(--highlight-color);*/
    width: 100%;
}


mws-Demo .TabNav > ul {
    width: 100%;
    display: flex;
}

mws-Demo .TabNav-title {
    border: 2px solid black;
    border-top-width: 4px;
    /*border-bottom-width: 0;*/
    margin-bottom: -2px;
    border-radius: 8px 8px 0 0;
    background: white;
    min-width: 10%;
    box-shadow: 0 0 0 0 var(--highlight-color);
    transition: box-shadow 0.3s,
                border-color 0.2s;
}

mws-Demo .TabNav-title a,
mws-Demo .TabNav-title a:visited,
mws-Demo .TabNav-title a:active {
    text-decoration: none;
    color: black;
    display: block;
    padding: 5px;
    font-weight: bold;
    cursor: pointer;
    font-size: 1.1rem;
}

mws-Demo .TabNav-title:hover {
    border-color: var(--highlight-color);
}

mws-Demo .TabNav-title--selected {
    border-color: var(--highlight-color);
    background: var(--highlight-color);
    box-shadow: 0 0 0 8px var(--highlight-color);
    border-radius: 8px 8px 8px 8px;
}
mws-Demo .TabNav-title--selected a {
    color: white !important;
}


@media (max-width: 992px) {
mws-Demo .TabNav > ul {
        flex-wrap: wrap;
        justify-content: flex-start;
    }
}
@media (max-width: 768px) {
mws-Demo .TabNav-title {
        padding: 7px;
    }
}



@media (max-width: 768px) {
mws-Demo .demo-wrapper.demo-wrapper__fullscreen {
        position: relative;
        display: block;
        width: 100vw;
        height: auto;
        z-index: 1;
    }
}


@media (max-width: 768px) {
mws-Demo .editor-toolbar {
        position: static;
        padding: 10px;
        margin: 20px;
        height: 60px;
        font-size: 1.1rem;
    }
mws-Demo .demo-wrapper__fullscreen .editor-toolbar {
        margin: 5px;
        height: 60px;
        padding: 5px;
        display: flex;
        justify-content: flex-end;
    }
}


@media (max-width: 768px) {
mws-Demo .side-by-side-panes {
        display: block;
    }
}

@media (max-width: 768px) {
mws-Demo .editor-minipreview {
        width: 100%;
    }
mws-Demo .demo-wrapper__fullscreen .editor-minipreview {
        width: 90%;
    }
}


@media (min-width: 768px) {
mws-Demo .demo-wrapper__minipreview.demo-wrapper__fullscreen .editor-wrapper {
        height: auto;
        width: 70vw;
        min-height: 87vh;
    }
}


@media (max-width: 768px) {
mws-Demo .editor-wrapper {
        width: 100%;
        border: 1px solid black;
    }
mws-Demo .demo-wrapper__fullscreen .editor-wrapper {
        width: 100%;
    }
}

</style><script>"use strict";Modulo.assets.functions["19ln1d0"]= function (Modulo, factory, module, component, props, template, state, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'component') component = value; if (name === 'props') props = value; if (name === 'template') template = value; if (name === 'state') state = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }

    function _child(label, hash, keywords=[], filepath=null) {
        if (!hash) {
            hash = label.toLowerCase()
        }
        if (hash.endsWith('.html') && filepath === null) {
            filepath = hash;
        }
        return {label, hash, keywords, filepath};
    }
    let componentTexts;
    try {
        //console.log('this is', Object.keys(Modulo.factoryInstances));
        //console.log('this is', Modulo.factoryInstances);
        componentTexts = Modulo.factoryInstances['eg-eg'].baseRenderObj.script.exports.componentTexts;
    } catch {
        console.log('couldnt get componentTexts');
        componentTexts = {};
    }
    script.exports.menu = [
        {
            label: 'Table of Contents',
            filename: '/docs/',
        },

        {
            label: 'Tutorial',
            filename: '/docs/tutorial_part1.html',
            children: [
                _child('Part 1: Components, CParts, and Loading', '/docs/tutorial_part1.html', ['cdn', 'module-embed', 'components', 'cparts', 'template', 'style', 'html & css']),
                _child('Part 2: Props, Templating, and Building', '/docs/tutorial_part2.html', ['props', 'template variables', 'template filters', 'modulo console command', 'build', 'hash']),
                _child('Part 3: State, Directives, and Scripting', '/docs/tutorial_part3.html', ['state', 'directives', 'data props', 'state.bind', 'data types', 'events', 'basic scripting']),
            ],
        },

        {
            label: 'Templating',
            filename: '/docs/templating.html',
            children: [
                _child('Templates', null, ['templating philosophy', 'templating overview']),
                _child('Variables', null, ['variable syntax', 'variable sources', 'cparts as variables']),
                _child('Filters', null, ['filter syntax', 'example filters']),
                _child('Tags', null, ['template-tag syntax', 'example use of templatetags']),
                _child('Comments', null, ['syntax', 'inline comments', 'block comments']),
                _child('Escaping', null, ['escaping HTML', 'safe filter', 'XSS injection protection']),
            ],
        },

        {
            label: 'Template Reference',
            filename: '/docs/templating-reference.html',
            children: [
                _child('Built-in Template Tags', 'templatetags', [
                    'if', 'elif', 'else', 'endif', 'for', 'empty', 'endfor',
                    'operators', 'in', 'not in', 'is', 'is not', 'lt', 'gt',
                    'comparison', 'control-flow',
                ]),
                _child('Built-in Filters', 'filters', [
                    'add', 'allow', 'capfirst', 'concat', 'default',
                    'divisibleby', 'escapejs', 'first', 'join', 'json', 'last',
                    'length', 'lower', 'number', 'pluralize', 'subtract',
                    'truncate', 'renderas', 'reversed', 'upper',
                ]),
            ],
        },

        {
            label: 'CParts',
            filename: '/docs/cparts.html',
            children: [
                _child('Props', 'props', ['accessing props', 'defining props',
                                    'setting props', 'using props']),
                _child('Template', 'template', ['custom template', 'templating engine']),
                _child('State', 'state', ['state definition', 'state data types',
                                'json', 'state variables', 'state.bind directive']),
                _child('Script', 'script', ['javascript', 'events', 'computed properties',
                                'static execution', 'custom lifecycle methods',
                                    'script callback execution context', 'script exports']),
                _child('Style', 'style', ['CSS', 'styling', ':host', 'shadowDOM']),
                _child('Component', 'component', ['name', 'innerHTML', 'patches', 'reconciliation',
                                    'rendering mode', 'manual rerender', 'shadow',
                                    'vanish', 'vanish-into-document', 'component.event',
                                    'component.slot', 'component.dataProp']),
                //_child('Module'),
            ],
        },

        {
            label: 'Lifecycle',
            filename: '/docs/lifecycle.html',
            children: [
                _child('Lifecycle phases', 'phases',
                    ['lifestyle phases', 'lifestyle phase groups',
                     'load', 'factory', 'prepare', 'initialized',
                     'render', 'reconcile', 'update',
                     'event', 'eventCleanup', 'hooking into lifecycle',
                     'lifecycle callbacks', 'script tag callbacks']),
                _child('Factory lifecycle', 'factory',
                    ['renderObj', 'baseRenderObj', 'loadObj',
                     'dependency injection', 'middleware']),
                _child('renderObj', 'renderobj',
                    ['renderObj', 'baseRenderObj', 'loadObj',
                     'dependency injection', 'middleware']),
            ],
        },

        {
            label: 'Directives',
            filename: '/docs/directives.html',
            children: [
                _child('Directives', 'directives',
                    ['built-in directives', 'directive shortcuts',
                     'custom directives', 'refs', 'accessing dom',
                     'escape hatch', 'mount callback', 'unmount callback']),
                _child('Custom directives', 'custom'),
                _child('Built-in directives', 'builtin'),
            ],
        },

        /*
        {
            label: 'API & Extension',
            filename: '/docs/api.html',
            children: [
                _child('Custom CParts', 'cparts'),
                _child('CPart Spares', 'spares'),
                _child('Custom Templating', 'template'),
                _child('Custom Filters', 'customfilters'),
                _child('Custom Template Tags', 'customtags'),
                _child('Custom Template Syntax', 'customtags'),
                _child('ModRec', 'modrec'),
                _child('DOMCursor', 'cursor'),
            ],
        },
        */

        {
            label: 'Example Library',
            filename: '/docs/example-library.html',
            children: Object.keys(componentTexts).map(name => _child(name)),
        },

        {
            label: 'Project Info',
            filename: '/docs/project-info.html',
            children: [
                _child('FAQ', 'faq'),
                _child('Framework Design Philosophy', 'philosophy'),
            ],
        },
    ];

    function initializedCallback() {
        const { path, showall } = props;
        state.menu = script.exports.menu.map(o => Object.assign({}, o)); // dupe
        for (const groupObj of state.menu) {
            if (showall) {
                groupObj.active = true;
            }
            if (groupObj.filename && path && groupObj.filename.endsWith(path)) {
                groupObj.active = true;
            }
        }
    }

return { "_child": typeof _child !== "undefined" ? _child : undefined,
"initializedCallback": typeof initializedCallback !== "undefined" ? initializedCallback : undefined,
 setLocalVariable: __set, exports: script.exports}
};</script><style>
mws-DocSidebar li {
      margin-left: 20px;
  }
  /*
mws-DocSidebar li.ginactive > ul::before,
mws-DocSidebar li.gactive > ul::before {
      content: ' - ';
      background: var(--highlight-color);
      color: white;
      text-decoration: none;
  }
  */
mws-DocSidebar li.ginactive > a::before {
      content: '+ ';
  }
</style><style>
mws-CodeExample .toolbar {
            display: flex;
            justify-content: space-between;
        }
mws-CodeExample .toolbar > button {
            border: 2px solid black;
            border-top-width: 1px;
            border-bottom-width: 3px;
            border-radius: 3px;
            background: white;
            font-weight: lighter;
            text-transform: uppercase;
        }
mws-CodeExample .toolbar > button:active {
            border-top-width: 3px;
            border-bottom-width: 1px;
        }
mws-CodeExample .toolbar > button:hover {
            box-shadow: 0 0 2px var(--highlight-color); /* extremely subtle shadow */
        }
mws-CodeExample .split > div:last-child {
            padding: 5px;
            background: whiteSmoke;
        }
mws-CodeExample .split > div:first-child{
            border: 1px solid black;
            /*overflow-y: scroll;*/
        }

mws-CodeExample .preview-wrapper {
            margin-top: 4px;
            padding: 5px;
            padding-left: 20px;
            padding-right: 20px;
            border: 1px solid black;
        }

mws-CodeExample .split > div > textarea {
            width: 100%;
            min-height: 10px;
        }
mws-CodeExample .split {
            display: grid;
            grid-template-columns: 2fr 1fr;
        }
@media (max-width: 992px) {
mws-CodeExample .split { display: block; }
        }
    </style><script>"use strict";Modulo.assets.functions["ki6eec"]= function (Modulo, factory, module, component, template, style, props, state, element, cparts){var script = { exports: {} };  function __set(name, value) { if (name === 'Modulo') Modulo = value; if (name === 'factory') factory = value; if (name === 'module') module = value; if (name === 'component') component = value; if (name === 'template') template = value; if (name === 'style') style = value; if (name === 'props') props = value; if (name === 'state') state = value; if (name === 'element') element = value; if (name === 'cparts') cparts = value; }

        let egTexts = null;
        try {
            if ('eg-eg' in Modulo.factoryInstances) {
                egTexts = Modulo.factoryInstances['eg-eg']
                    .baseRenderObj.script.exports.componentTexts;
            }
        } catch {
            console.log('couldnt get egTexts');
        }

        let exCounter = 0; // global variable
        //console.log('gettin script tagged');
        /* Configure loader: */
        function initializedCallback() {
            //console.log('hey i am getting initialized wow');
            //console.log('initialized callback', element.innerHTML);
            if (Modulo.isBackend) {
                let html;
                if (egTexts && props.cname) {
                    Modulo.assert(props.cname in egTexts, `${props.cname} not found`);
                    html = egTexts[props.cname];
                } else {
                    html = (element.innerHTML || '').trim();
                    html = html.replace(/([\w\[\]\._-]+):="(\w+)"/, '$1:=$2'); // clean up due to DOM
                }

                if (props.textsrc) {
                    const html = Modulo.require('fs')
                        .readFileSync('./docs-src/' + props.textsrc, 'utf8');
                    element.setAttribute('text', html);
                } else if (html && !element.getAttribute('text')) {
                    element.setAttribute('text', html);
                }
            }
        }

        function previewspotMount({el}) {
            element.previewSpot = el.firstElementChild;
            run(); // mount after first render
        }

        function codemirrorMount({el}) {
            if (Modulo.globals.CodeMirror) {
                //console.log('this is props', props);
                // TODO: Debug this, should not use textarea, should not need
                // extra refreshes or anything
                const cm = CodeMirror.fromTextArea(el, {
                    lineNumbers: true,
                    mode: 'django',
                    theme: 'eclipse',
                    indentUnit: 4,
                });
                element.codeMirrorEditor = cm;
                window.cm = cm;

                const height = props.vsize ? Number(props.vsize) : 170;
                cm.setValue('');
                cm.setSize(null, height);
                cm.refresh();

                let text = props.text.trim();
                text = text.replace(/&#39;/g, "'"); // correct double escape
                cm.setValue(text);
                setTimeout(() => {
                    cm.setValue(text);
                    cm.setSize(null, height);
                    cm.refresh();
                }, 1);
                el.setAttribute('modulo-ignore', 'y');
            } else {
                //console.log('Code mirror not found'); // probably SSG
            }
        }

        function run() {
            if (!Modulo.globals.CodeMirror) {
                return;
            }
            exCounter++;
            //console.log('There are ', exCounter, ' examples on this page. Gee!')
            const namespace = `e${exCounter}g${state.nscounter}`; // TODO: later do hot reloading using same loader
            state.nscounter++;
            const loadOpts = {src: '', namespace};
            const loader = new Modulo.Loader(null, {options: loadOpts});
            const tagName = 'Example';
            let text = element.codeMirrorEditor.getValue();
            text = `<template mod-component="${tagName}">${text}</template>`;
            //console.log('Creating component from text:', text)
            loader.loadString(text);
            const tag = `${namespace}-${tagName}`;
            let extraPropsStr = '';
            /*
            const extraProps =  props.extraprops ? JSON.parse(props.extraprops) : {};
            for (const [key, value] of Object.entries(extraProps)) {
                const escValue = value.replace(/"/g, , '&quot;');
                extraPropsStr += ` ${key}="${escValue}"`;
            }
            */

            const preview = `<${tag}${extraPropsStr}></${tag}>`;
            element.previewSpot.innerHTML = preview;
            //state.preview = preview;
            //document.querySelector('#previewSpot').innerHTML = preview;
            //console.log('adding preview', preview);
        }
    
return { "initializedCallback": typeof initializedCallback !== "undefined" ? initializedCallback : undefined,
"previewspotMount": typeof previewspotMount !== "undefined" ? previewspotMount : undefined,
"codemirrorMount": typeof codemirrorMount !== "undefined" ? codemirrorMount : undefined,
"run": typeof run !== "undefined" ? run : undefined,
 setLocalVariable: __set, exports: script.exports}
};</script><style>
x-ExampleBtn .my-btn {
                display: inline-block;
                box-sizing: border-box;
                font-family: sans-serif;
                border: 1px solid gray;
                transition: 0.1s;
                box-shadow:
                    inset -3px -3px
                    1px 1px rgba(100, 100, 100, 0.3);
                border-radius: 1px 8px 1px 8px;
                cursor: default;
                text-align: center;
                padding: 3px;
                padding-right: 5px;
                padding-bottom: 5px;
                height: 30px;
                background: turquoise;
                font-weight: bold;
            }

x-ExampleBtn .my-btn:active {
                box-shadow: inset 3px 3px 1px 1px rgba(100, 100, 100, 0.3);
            }
x-ExampleBtn .my-btn__square {
            }
x-ExampleBtn .my-btn__round {
                border-radius: 150px;
            }
        </style><script>"use strict";Modulo.assets.functions["xnjq9ng"]= function (CTX, G){
var OUT=[];
OUT.push("<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf8\" />\n    <title>"); // "<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf8\" />\n    <title>"
OUT.push(G.escapeHTML(CTX.props.pagetitle)); // "props.pagetitle"
OUT.push(" - modulojs.org</title>\n    <link rel=\"stylesheet\" href=\"/css/style.css\" />\n    <link rel=\"icon\" type=\"image/png\" href=\"/img/mono_logo.png\" />\n    <!-- Moving this to individual pages for faster / blocking load, at least for now: -->\n    <!--<script src=\"/js/codemirror_5.63.0/codemirror_bundled.js\"></script>-->\n    <!--<link rel=\"stylesheet\" href=\"/js/codemirror_5.63.0/codemirror_bundled.css\" />-->\n</head>\n<body>\n\n<div [component.slot]=\"above-navbar\">\n</div>\n\n<nav class=\"Navbar\">\n    <a href=\"/index.html\"><img src=\"/img/mono_logo.png\" style=\"height:70px\" alt=\"Modulo\" /></a>\n    <ul>\n        <li>\n            <a href=\"/index.html#about\" "); // "- modulojs.org</title>\n    <link rel=\"stylesheet\" href=\"/css/style.css\" />\n    <link rel=\"icon\" type=\"image/png\" href=\"/img/mono_logo.png\" />\n    <!-- Moving this to individual pages for faster / blocking load, at least for now: -->\n    <!--<script src=\"/js/codemirror_5.63.0/codemirror_bundled.js\"></script>-->\n    <!--<link rel=\"stylesheet\" href=\"/js/codemirror_5.63.0/codemirror_bundled.css\" />-->\n</head>\n<body>\n\n<div [component.slot]=\"above-navbar\">\n</div>\n\n<nav class=\"Navbar\">\n    <a href=\"/index.html\"><img src=\"/img/mono_logo.png\" style=\"height:70px\" alt=\"Modulo\" /></a>\n    <ul>\n        <li>\n            <a href=\"/index.html#about\""
if (CTX.props.navbar === "about") { // "if props.navbar == \"about\""
OUT.push("class=\"Navbar--selected\""); // "class=\"Navbar--selected\""
} // "endif"
OUT.push(">About</a>\n        </li>\n        <li>\n            <a href=\"/start.html\" "); // ">About</a>\n        </li>\n        <li>\n            <a href=\"/start.html\""
if (CTX.props.navbar === "start") { // "if props.navbar == \"start\""
OUT.push("class=\"Navbar--selected\""); // "class=\"Navbar--selected\""
} // "endif"
OUT.push(">Start</a>\n        </li>\n        <li>\n            <a href=\"/docs/\" "); // ">Start</a>\n        </li>\n        <li>\n            <a href=\"/docs/\""
if (CTX.props.navbar === "docs") { // "if props.navbar == \"docs\""
OUT.push("class=\"Navbar--selected\""); // "class=\"Navbar--selected\""
} // "endif"
OUT.push(">Docs</a>\n        </li>\n    </ul>\n\n    <div class=\"Navbar-rightInfo\">\n        "); // ">Docs</a>\n        </li>\n    </ul>\n\n    <div class=\"Navbar-rightInfo\">"
if (CTX.script.exports.version) { // "if script.exports.version"
OUT.push("\n            v: "); // "v:"
OUT.push(G.escapeHTML(CTX.script.exports.version)); // "script.exports.version"
OUT.push("<br />\n            SLOC: "); // "<br />\n            SLOC:"
OUT.push(G.escapeHTML(CTX.script.exports.sloc)); // "script.exports.sloc"
OUT.push(" lines<br />\n            <a href=\"https://github.com/michaelpb/modulo/\">github</a> | \n            <a href=\"https://npmjs.com/michaelpb/modulo/\">npm</a> \n        "); // "lines<br />\n            <a href=\"https://github.com/michaelpb/modulo/\">github</a> | \n            <a href=\"https://npmjs.com/michaelpb/modulo/\">npm</a>"
} else { // "else"
OUT.push("\n            <a href=\"https://github.com/michaelpb/modulo/\">Source Code\n                <br />\n                (on GitHub)\n            </a>\n        "); // "<a href=\"https://github.com/michaelpb/modulo/\">Source Code\n                <br />\n                (on GitHub)\n            </a>"
} // "endif"
OUT.push("\n    </div>\n</nav>\n\n"); // "</div>\n</nav>"
if (CTX.props.docbarselected) { // "if props.docbarselected"
OUT.push("\n    <main class=\"Main Main--fluid Main--withSidebar\">\n        <aside class=\"TitleAside TitleAside--navBar\" >\n            <h3><span alt=\"Lower-case delta\">%</span></h3>\n            <nav class=\"TitleAside-navigation\">\n                <h3>Documentation</h3>\n                <mws-DocSidebar path=\""); // "<main class=\"Main Main--fluid Main--withSidebar\">\n        <aside class=\"TitleAside TitleAside--navBar\" >\n            <h3><span alt=\"Lower-case delta\">%</span></h3>\n            <nav class=\"TitleAside-navigation\">\n                <h3>Documentation</h3>\n                <mws-DocSidebar path=\""
OUT.push(G.escapeHTML(CTX.props.docbarselected)); // "props.docbarselected"
OUT.push("\"></mws-DocSidebar>\n            </nav>\n        </aside>\n        <aside style=\"border: none\" [component.slot]>\n        </aside>\n    </main>\n"); // "\"></mws-DocSidebar>\n            </nav>\n        </aside>\n        <aside style=\"border: none\" [component.slot]>\n        </aside>\n    </main>"
} else { // "else"
OUT.push("\n    <main class=\"Main\" [component.slot]>\n    </main>\n"); // "<main class=\"Main\" [component.slot]>\n    </main>"
} // "endif"
OUT.push("\n\n<footer>\n    <main>\n        (C) 2022 - Michael Bethencourt - Documentation under LGPL 3.0\n    </main>\n</footer>\n\n</body>\n</html>\n"); // "<footer>\n    <main>\n        (C) 2022 - Michael Bethencourt - Documentation under LGPL 3.0\n    </main>\n</footer>\n\n</body>\n</html>"

return OUT.join("");
};</script><template modulo-embed="">
    <load namespace="x" src="/components/layouts.html"></load>
    <!--<load src="/components/embeddedexampleslib.html" namespace="docseg"></load>-->
</template><template modulo-embed="">
    <component name="ExampleBtn">
        <props label="" shape=""></props>
        <template>
            <button class="my-btn my-btn__{{ props.shape }}">
                {{ props.label }}
            </button>
        </template>
        <style>
            .my-btn {
                display: inline-block;
                box-sizing: border-box;
                font-family: sans-serif;
                border: 1px solid gray;
                transition: 0.1s;
                box-shadow:
                    inset -3px -3px
                    1px 1px rgba(100, 100, 100, 0.3);
                border-radius: 1px 8px 1px 8px;
                cursor: default;
                text-align: center;
                padding: 3px;
                padding-right: 5px;
                padding-bottom: 5px;
                height: 30px;
                background: turquoise;
                font-weight: bold;
            }

            .my-btn:active {
                box-shadow: inset 3px 3px 1px 1px rgba(100, 100, 100, 0.3);
            }
            .my-btn__square {
            }
            .my-btn__round {
                border-radius: 150px;
            }
        </style>
    </component>
</template><meta charset="utf8"><title>Part 2 - Tutorial - modulojs.org</title><link rel="stylesheet" href="/css/style.css"><link rel="icon" type="image/png" href="/img/mono_logo.png"><script>"use strict";Modulo.assets.functions["pqput6"]= function (CTX, G){
var OUT=[];
OUT.push("\n        <a class=\"secanchor\" title=\"Click to focus on this section.\" id=\""); // "<a class=\"secanchor\" title=\"Click to focus on this section.\" id=\""
OUT.push(G.escapeHTML(CTX.props.name)); // "props.name"
OUT.push("\" name=\""); // "\" name=\""
OUT.push(G.escapeHTML(CTX.props.name)); // "props.name"
OUT.push("\" href=\"#"); // "\" href=\"#"
OUT.push(G.escapeHTML(CTX.props.name)); // "props.name"
OUT.push("\">#</a>\n        <h2>"); // "\">#</a>\n        <h2>"
OUT.push(G.escapeHTML(G.filters["safe"](CTX.component.originalHTML))); // "component.originalHTML|safe"
OUT.push("</h2>\n    "); // "</h2>"

return OUT.join("");
};</script><script>"use strict";Modulo.assets.functions["xvdjht9"]= function (CTX, G){
var OUT=[];
OUT.push("<div class=\"demo-wrapper\n        "); // "<div class=\"demo-wrapper"
if (CTX.state.showpreview) { // "if state.showpreview"
OUT.push("     demo-wrapper__minipreview"); // "demo-wrapper__minipreview"
} // "endif"
OUT.push("\n        "); // ""
if (CTX.state.showclipboard) { // "if state.showclipboard"
OUT.push("   demo-wrapper__clipboard  "); // "demo-wrapper__clipboard"
} // "endif"
OUT.push("\n        "); // ""
if (CTX.state.fullscreen) { // "if state.fullscreen"
OUT.push("      demo-wrapper__fullscreen "); // "demo-wrapper__fullscreen"
} // "endif"
OUT.push("\n        "); // ""
if (CTX.state.tabs.length === 1) { // "if state.tabs.length == 1"
OUT.push("demo-wrapper__notabs     "); // "demo-wrapper__notabs"
} // "endif"
OUT.push("\n    \">\n    "); // "\">"
if (CTX.state.tabs.length > 1) { // "if state.tabs.length gt 1"
OUT.push("\n        <nav class=\"TabNav\">\n            <ul>\n                "); // "<nav class=\"TabNav\">\n            <ul>"
var ARR1=CTX.state.tabs;for (var KEY in ARR1) {CTX. tab=ARR1[KEY]; // "for tab in state.tabs"
OUT.push("\n                    <li class=\"TabNav-title\n                        "); // "<li class=\"TabNav-title"
if (CTX.tab.title === CTX.state.selected) { // "if tab.title == state.selected"
OUT.push("\n                            TabNav-title--selected\n                        "); // "TabNav-title--selected"
} // "endif"
OUT.push("\n                    \"><a @click:=script.selectTab\n                            payload=\""); // "\"><a @click:=script.selectTab\n                            payload=\""
OUT.push(G.escapeHTML(CTX.tab.title)); // "tab.title"
OUT.push("\"\n                        >"); // "\"\n                        >"
OUT.push(G.escapeHTML(CTX.tab.title)); // "tab.title"
OUT.push("</a></li>\n                "); // "</a></li>"
} // "endfor"
OUT.push("\n            </ul>\n        </nav>\n    "); // "</ul>\n        </nav>"
} // "endif"
OUT.push("\n\n    <div class=\"editor-toolbar\">\n        <p style=\"font-size: 11px; width: 120px; margin-right: 10px; text-align: right;\n                    "); // "<div class=\"editor-toolbar\">\n        <p style=\"font-size: 11px; width: 120px; margin-right: 10px; text-align: right;"
if (!(CTX.state.fullscreen)) { // "if not state.fullscreen"
OUT.push(" display: none; "); // "display: none;"
} // "endif"
OUT.push("\">\n            <em>Note: This is meant for exploring features. Your work will not be saved.</em>\n        </p>\n\n        "); // "\">\n            <em>Note: This is meant for exploring features. Your work will not be saved.</em>\n        </p>"
if (CTX.state.showclipboard) { // "if state.showclipboard"
OUT.push("\n            <button class=\"m-Btn m-Btn--sm m-Btn--faded\"\n                    title=\"Copy this code\" @click:=script.doCopy>\n                Copy <span alt=\"Clipboard\">&#128203;</span>\n            </button>\n        "); // "<button class=\"m-Btn m-Btn--sm m-Btn--faded\"\n                    title=\"Copy this code\" @click:=script.doCopy>\n                Copy <span alt=\"Clipboard\">&#128203;</span>\n            </button>"
} // "endif"
OUT.push("\n\n        "); // ""
if (CTX.state.showpreview) { // "if state.showpreview"
OUT.push("\n            <button class=\"m-Btn\"\n                    title=\"Toggle full screen view of code\" @click:=script.doFullscreen>\n                "); // "<button class=\"m-Btn\"\n                    title=\"Toggle full screen view of code\" @click:=script.doFullscreen>"
if (CTX.state.fullscreen) { // "if state.fullscreen"
OUT.push("\n                    <span alt=\"Shrink\">&swarr;</span>\n                "); // "<span alt=\"Shrink\">&swarr;</span>"
} else { // "else"
OUT.push("\n                    <span alt=\"Go Full Screen\">&nearr;</span>\n                "); // "<span alt=\"Go Full Screen\">&nearr;</span>"
} // "endif"
OUT.push("\n            </button>\n            &nbsp;\n            <button class=\"m-Btn\"\n                    title=\"Run a preview of this code\" @click:=script.doRun>\n                Run <span alt=\"Refresh\">&#10227;</span>\n            </button>\n        "); // "</button>\n            &nbsp;\n            <button class=\"m-Btn\"\n                    title=\"Run a preview of this code\" @click:=script.doRun>\n                Run <span alt=\"Refresh\">&#10227;</span>\n            </button>"
} // "endif"
OUT.push("\n\n    </div>\n\n    <div class=\"side-by-side-panes\">\n        <div class=\"editor-wrapper\">\n            <div [script.codemirror] modulo-ignore>\n            </div>\n        </div>\n\n        "); // "</div>\n\n    <div class=\"side-by-side-panes\">\n        <div class=\"editor-wrapper\">\n            <div [script.codemirror] modulo-ignore>\n            </div>\n        </div>"
if (CTX.state.showpreview) { // "if state.showpreview"
OUT.push("\n            <div class=\"editor-minipreview\">\n                <div modulo-ignore>\n                    "); // "<div class=\"editor-minipreview\">\n                <div modulo-ignore>"
OUT.push(G.escapeHTML(G.filters["safe"](CTX.state.preview))); // "state.preview|safe"
OUT.push("\n                </div>\n            </div>\n        "); // "</div>\n            </div>"
} // "endif"
OUT.push("\n\n    </div>\n</div>\n\n"); // "</div>\n</div>"

return OUT.join("");
};</script><script>"use strict";Modulo.assets.functions["x1ttadi3"]= function (CTX, G){
var OUT=[];
OUT.push("\n<ul>\n    "); // "<ul>"
var ARR0=CTX.state.menu;for (var KEY in ARR0) {CTX. linkGroup=ARR0[KEY]; // "for linkGroup in state.menu"
OUT.push("\n        <li class=\"\n            "); // "<li class=\""
if (CTX.linkGroup.children) { // "if linkGroup.children"
OUT.push("\n                "); // ""
if (CTX.linkGroup.active) { // "if linkGroup.active"
OUT.push("gactive"); // "gactive"
} else { // "else"
OUT.push("ginactive"); // "ginactive"
} // "endif"
OUT.push("\n            "); // ""
} // "endif"
OUT.push("\n            \"><a href=\""); // "\"><a href=\""
OUT.push(G.escapeHTML(CTX.linkGroup.filename)); // "linkGroup.filename"
OUT.push("\">"); // "\">"
OUT.push(G.escapeHTML(CTX.linkGroup.label)); // "linkGroup.label"
OUT.push("</a>\n            "); // "</a>"
if (CTX.linkGroup.active) { // "if linkGroup.active"
OUT.push("\n                "); // ""
if (CTX.linkGroup.children) { // "if linkGroup.children"
OUT.push("\n                    <ul>\n                    "); // "<ul>"
var ARR3=CTX.linkGroup.children;for (var KEY in ARR3) {CTX. childLink=ARR3[KEY]; // "for childLink in linkGroup.children"
OUT.push("\n                        <li><a href=\""); // "<li><a href=\""
if (CTX.childLink.filepath) { // "if childLink.filepath"
OUT.push(G.escapeHTML(CTX.childLink.filepath)); // "childLink.filepath"
} else { // "else"
OUT.push(G.escapeHTML(CTX.linkGroup.filename)); // "linkGroup.filename"
OUT.push("#"); // "#"
OUT.push(G.escapeHTML(CTX.childLink.hash)); // "childLink.hash"
} // "endif"
OUT.push("\">"); // "\">"
OUT.push(G.escapeHTML(CTX.childLink.label)); // "childLink.label"
OUT.push("</a>\n                        "); // "</a>"
if (CTX.props.showall) { // "if props.showall"
OUT.push("\n                            "); // ""
if (CTX.childLink.keywords.length > 0) { // "if childLink.keywords.length gt 0"
OUT.push("\n                                <span style=\"margin-left: 10px; color: #aaa\">(<em>Topics: "); // "<span style=\"margin-left: 10px; color: #aaa\">(<em>Topics:"
OUT.push(G.escapeHTML(G.filters["join"](CTX.childLink.keywords,", "))); // "childLink.keywords|join:', '"
OUT.push("</em>)</span>\n                            "); // "</em>)</span>"
} // "endif"
OUT.push("\n                        "); // ""
} // "endif"
OUT.push("\n                        </li>\n                    "); // "</li>"
} // "endfor"
OUT.push("\n                    </ul>\n                "); // "</ul>"
} // "endif"
OUT.push("\n            "); // ""
} // "endif"
OUT.push("\n        </li>\n    "); // "</li>"
} // "endfor"
OUT.push("\n\n\n    <!--\n    <li>\n        Other resources:\n\n        <ul>\n            <li>\n                <a href=\"/docs/faq.html\">FAQ</a>\n            <li title=\"Work in progress: Finalizing source code and methodically annotating entire file with extensive comments.\">\n                Literate Source*<br /><em>* Coming soon!</em>\n            </li>\n        </ul>\n\n    </li>\n    -->\n    <!--<a href=\"/literate/src/Modulo.html\">Literate source</a>-->\n</ul>\n"); // "<!--\n    <li>\n        Other resources:\n\n        <ul>\n            <li>\n                <a href=\"/docs/faq.html\">FAQ</a>\n            <li title=\"Work in progress: Finalizing source code and methodically annotating entire file with extensive comments.\">\n                Literate Source*<br /><em>* Coming soon!</em>\n            </li>\n        </ul>\n\n    </li>\n    -->\n    <!--<a href=\"/literate/src/Modulo.html\">Literate source</a>-->\n</ul>"

return OUT.join("");
};</script><script>"use strict";Modulo.assets.functions["16ailbv"]= function (CTX, G){
var OUT=[];
OUT.push("\n    <p>Trying out the button...</p>\n    <x-ExampleBtn\n        label=\"Button Example\"\n        shape=\"square\"\n    ></x-ExampleBtn>\n\n    <p>Another button...</p>\n    <x-ExampleBtn\n        label=\"Example 2: Rounded\"\n        shape=\"round\"\n    ></x-ExampleBtn>\n"); // "<p>Trying out the button...</p>\n    <x-ExampleBtn\n        label=\"Button Example\"\n        shape=\"square\"\n    ></x-ExampleBtn>\n\n    <p>Another button...</p>\n    <x-ExampleBtn\n        label=\"Example 2: Rounded\"\n        shape=\"round\"\n    ></x-ExampleBtn>"

return OUT.join("");
};</script><script>"use strict";Modulo.assets.functions["x2p0k6h"]= function (CTX, G){
var OUT=[];
OUT.push("\n            <button class=\"my-btn my-btn__"); // "<button class=\"my-btn my-btn__"
OUT.push(G.escapeHTML(CTX.props.shape)); // "props.shape"
OUT.push("\">\n                "); // "\">"
OUT.push(G.escapeHTML(CTX.props.label)); // "props.label"
OUT.push("\n            </button>\n        "); // "</button>"

return OUT.join("");
};</script></head><body>


    
    
    
    
    <!-- Moving this to individual pages for faster / blocking load, at least for now: -->
    <!--<script src="/js/codemirror_5.63.0/codemirror_bundled.js"></script>-->
    <!--<link rel="stylesheet" href="/js/codemirror_5.63.0/codemirror_bundled.css" />-->



<div [component.slot]="above-navbar"></div>

<nav class="Navbar">
    <a href="/index.html"><img src="/img/mono_logo.png" style="height:70px" alt="Modulo"></a>
    <ul>
        <li>
            <a href="/index.html#about">About</a>
        </li>
        <li>
            <a href="/start.html">Start</a>
        </li>
        <li>
            <a href="/docs/" class="Navbar--selected">Docs</a>
        </li>
    </ul>

    <div class="Navbar-rightInfo">
        
            <a href="https://github.com/michaelpb/modulo/">Source Code
                <br>
                (on GitHub)
            </a>
        
    </div>
</nav>


    <main class="Main Main--fluid Main--withSidebar">
        <aside class="TitleAside TitleAside--navBar">
            <h3><span alt="Lower-case delta">%</span></h3>
            <nav class="TitleAside-navigation">
                <h3>Documentation</h3>
                <mws-docsidebar path="tutorial_part1.html" modulo-original-html="">
<ul>
    
        <li class="
            
            "><a href="/docs/">Table of Contents</a>
            
        </li>
    
        <li class="
            
                gactive
            
            "><a href="/docs/tutorial_part1.html">Tutorial</a>
            
                
                    <ul>
                    
                        <li><a href="/docs/tutorial_part1.html">Part 1: Components, CParts, and Loading</a>
                        
                        </li>
                    
                        <li><a href="/docs/tutorial_part2.html">Part 2: Props, Templating, and Building</a>
                        
                        </li>
                    
                        <li><a href="/docs/tutorial_part3.html">Part 3: State, Directives, and Scripting</a>
                        
                        </li>
                    
                    </ul>
                
            
        </li>
    
        <li class="
            
                ginactive
            
            "><a href="/docs/templating.html">Templating</a>
            
        </li>
    
        <li class="
            
                ginactive
            
            "><a href="/docs/templating-reference.html">Template Reference</a>
            
        </li>
    
        <li class="
            
                ginactive
            
            "><a href="/docs/cparts.html">CParts</a>
            
        </li>
    
        <li class="
            
                ginactive
            
            "><a href="/docs/lifecycle.html">Lifecycle</a>
            
        </li>
    
        <li class="
            
                ginactive
            
            "><a href="/docs/directives.html">Directives</a>
            
        </li>
    
        <li class="
            
                ginactive
            
            "><a href="/docs/example-library.html">Example Library</a>
            
        </li>
    
        <li class="
            
                ginactive
            
            "><a href="/docs/project-info.html">Project Info</a>
            
        </li>
    


    <!--
    <li>
        Other resources:

        <ul>
            <li>
                <a href="/docs/faq.html">FAQ</a>
            <li title="Work in progress: Finalizing source code and methodically annotating entire file with extensive comments.">
                Literate Source*<br /><em>* Coming soon!</em>
            </li>
        </ul>

    </li>
    -->
    <!--<a href="/literate/src/Modulo.html">Literate source</a>-->
</ul>
</mws-docsidebar>
            </nav>
        </aside>
        <aside style="border: none" [component.slot]="">

<h1>The Modulo Tutorial: Part 2</h1>
<p>In Part 2 of this tutorial, we'll explore three more features: Customizing
with Props, substituting with Template variables, and finally building your
finished project into a single faster-loading file. Prerequisites: HTML, CSS,
and Part 1.</p>


<mws-section name="props" modulo-original-html="1. Props">
        <a class="secanchor" title="Click to focus on this section." id="props" name="props" href="#props">#</a>
        <h2>1. Props</h2>
    </mws-section>

<p>In the previous section, we were mostly concerned with <em>defining
components</em>. Recall that components are defined once, but can be used many
times.
The purpose of <em>Props</em> is to allow more flexibility in that second step:
<em>Props</em> CPart defines the <em>properties</em> that can be customized
about a component each time it is reused.  Thus, to start our discussion of
<em>Props</em> we'll first get more practice reusing components.</p>

<h3>Other people's components</h3>

<p>Before we learn how to use the <em>Props</em> CPart itself, let's first get
acquainted with a concept we haven't done before: Reusing components that were
coded by someone else! In a realistic scenario of an organization building a
web app, it's likely that most of the components you will be using won't
actually be written by you personally, but instead by someone else on some sort
of internal "component library" team.  Similarly, even if working by yourself,
you'll need to learn how to component libraries written by others so you can
use components already defined for you to accomplish common tasks. Don't
reinvent the wheel!</p>

<p>In this next activity, we'll practice reusing components.</p>

<section class="Tutorial-tryit">
    <h4>Try it now</h4>
    <p>Context: The <code>&lt;x-ExampleBtn&gt;</code> button component has
    already been defined for you. It was defined to accept two so-called
    <em>"props"</em>: <code>label</code>, and <code>shape</code>. We'll cover
    how it was defined to use a <em>Props</em> CPart later on. For now, we'll
    practice only with using the <code>x-ExampleBtn</code>.</p>

    <ol>
        <li>Examine the code below. Examine the preview on the right. Do you
        see how the code in turn uses the <code>x-ExampleBtn</code> in two
        locations, with a different shape and label each? We can call each of
        these a <em>component instance</em>. Each component instance can
        receive different or customized <em>props</em> attributes.</li>

        <li>Note the <code>label="..."</code> prop attribute that is on each
        <code>x-ExampleBtn</code>. Test it out by editing the contents of this
        attribute on one or both of the buttons and click RUN to see the result
        on the right.</li>

        <li>Note the <code>shape="..."</code> prop that is on each button. It's
        impossible to have known this without reading the CSS of
        <code>x-ExampleBtn</code>, but it accepts either "square" or "rounded".
        Try changing one to the other and see the results.</li>
    </ol>

    <mws-demo demotype="minipreview" fromlibrary="Tutorial_P2" modulo-original-html=""><div class="demo-wrapper
             demo-wrapper__minipreview
        
        
        demo-wrapper__notabs     
    ">
    

    <div class="editor-toolbar">
        <p style="font-size: 11px; width: 120px; margin-right: 10px; text-align: right;
                     display: none; ">
            <em>Note: This is meant for exploring features. Your work will not be saved.</em>
        </p>

        

        
            <button class="m-Btn" title="Toggle full screen view of code" @click:="script.doFullscreen">
                
                    <span alt="Go Full Screen">↗</span>
                
            </button>
            &nbsp;
            <button class="m-Btn" title="Run a preview of this code" @click:="script.doRun">
                Run <span alt="Refresh">⟳</span>
            </button>
        

    </div>

    <div class="side-by-side-panes">
        <div class="editor-wrapper">
            <div [script.codemirror]="" modulo-ignore=""><div class="CodeMirror cm-s-eclipse" translate="no"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 4px; left: 34px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="display: block; bottom: 0px; width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 216px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 50px; min-height: 216px; min-width: 301.094px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>13</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 16px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Template</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span>Trying out the button...<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">x-ExampleBtn</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-attribute">label</span>=<span class="cm-string">"Button Example"</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-attribute">shape</span>=<span class="cm-string">"square"</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">x-ExampleBtn</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span>Another button...<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">x-ExampleBtn</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-attribute">label</span>=<span class="cm-string">"Example 2: Rounded"</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-attribute">shape</span>=<span class="cm-string">"round"</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">x-ExampleBtn</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" aria-hidden="true" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">Template</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 50px; width: 1px; border-bottom: 0px solid transparent; top: 216px;"></div><div class="CodeMirror-gutters" style="height: 266px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></div>
        </div>

        
            <div class="editor-minipreview">
                <div modulo-ignore="">
                    <e1g1-example modulo-original-html="">
    <p>Trying out the button...</p>
    <x-examplebtn label="Button Example" shape="square" modulo-original-html="">
            <button class="my-btn my-btn__square">
                Button Example
            </button>
        </x-examplebtn>

    <p>Another button...</p>
    <x-examplebtn label="Example 2: Rounded" shape="round" modulo-original-html="">
            <button class="my-btn my-btn__round">
                Example 2: Rounded
            </button>
        </x-examplebtn>
</e1g1-example>
                </div>
            </div>
        

    </div>
</div>

</mws-demo>

    <p><strong>Comprehension Challenge 1:</strong> Based on the patterns you see
    here, add a third button to this example that is round and contains the
    word "Hello".</p>
    <p><strong>Comprehension Challenge 2:</strong> See if you can think up what
    props might be attached to different types of widgets, e.g. a "modal
    pop-up" widget might specify the title, or an Open Street Map widget might
    specify latitude and longitude for the map being displayed. What would a
    text input need? What about a tabbed navigation interface? How about a
    component that shows a chess board with pieces in a specified setup?</p>
</section>


<blockquote> <p><strong>Why use Props?</strong>
Components are "write once, use everywhere". That is to say, you only need to
define a component once to use it throughout your pages. The advantages of
"write once, use everywhere" are clear: By writing "DRY" (non-repetitive)
code, you can make changes to the single component definition and see those
changes take effect wherever that component might be used.
However, sometimes you want each instance of a component to have different
content or modified behavior. This is where <em>Props</em> come into play: They
allow you to customize differences in content or behavior between multiple uses
of the same component.</p>
</blockquote>


<h3>Defining props</h3>

<p>Let's "peel back the layers" and examine out how this ExampleBtn was
written.</p>

<p>In order for a component to be able to "receive" props when it is reused, we
must define a <em>Props</em> CPart, which is conventionally placed as the first
thing in a component definition. <em>Props</em> CParts are defined somewhat like
previous CParts, except they have no contents and are just an opening tag with
attributes, followed by a closing tag. A <em>Props</em> CPart might look like
this:</p>

<pre>&lt;Props name device frequency&gt;&lt;/Props&gt;</pre>

<p>The recommended style for Modulo code is to add a newline after each prop
name for easier reading. HTML syntax doesn't care either way, so the above
might be improved for readability if it were written as follows:</p>

<pre>&lt;Props
    name
    device
    frequency
&gt;&lt;/Props&gt;
</pre>


<p>Once you have defined which props you expect a component to receive by using
the <em>Props</em> CPart, you can then reference the values of those props
elsewhere within the component: Either in the <em>Template</em> CPart (what
we'll cover next), or in the <em>Script</em> CPart (covered later).</p>


<mws-section name="templating" modulo-original-html="2. Templating">
        <a class="secanchor" title="Click to focus on this section." id="templating" name="templating" href="#templating">#</a>
        <h2>2. Templating</h2>
    </mws-section>

<blockquote> <p><strong>Can I use props in CSS?</strong>

</p><p>No. Note that the <em>Style</em> CPart intentionally does not support
template substitution, or any such "live" modification whatsoever. If you want
to directly insert props as CSS values, this should be done in the template by
using an inline <code>style=</code> attribute. For more complicated CSS
transformations, consider setting CSS variables on the <code>style=</code>
attribute that are then used by the <em>Style</em> CPart, by using the
<code>var()</code> CSS function.</p>
</blockquote>

<p>Our discussion of props gives us a chance to explore the <em>Template</em>
CPart a little bit deeper. Previously, we have only used a <em>Template</em>
CPart to display static, unchanging HTML. That's quite limiting. The typical
purpose of "templating" or "a templating language" is to allow customization,
substitution, and transformation of HTML content.  Templating isn't unique to
web development: If you've used template files with word processors such
Microsoft Word, or email templates within marketing or sales software, you'll
know that with templating you can include placeholders where we want to insert
data or values, in order to personalize each instance.</p>



<h4>Using props within a template</h4>

<p>Within a <em>Template</em> CPart, we can insert data or values using a
special "placeholder" syntax that is as follows:
<code>{{&nbsp;myVariableName&nbsp;}}</code>.
We can also use a dot (".") in this syntax to access properties.
Thus, you will see this placeholder syntax more often used like this:
<code>{{ props.device }}</code>. So, combining this information with the 3
props that we have above, we can create a template that has 3 placeholders that
get filled in with specific data when the component gets reused. Examine the
below code and try to guess at what it might do:</p>

<pre>&lt;Template&gt;
    Hi {{ props.name }}, your {{ props.device }} is at {{ props.frequency }}hz.
&lt;/Template&gt;
</pre>

<p>In this case, if we were to use our component with the attributes
<code>name="Tux"</code>, <code>device="Radio"</code> and
<code>frequency="2600"</code>, then the following text would be rendered:
<code>Hi Tux, your Radio is at 2600hz.</code></p>


<p>The "Modulo templating language" was modeled after Django, Jinja2, or
Liquid, and thus is quite powerful, being capable of much than the simple
substitutions we're learning here. We'll learn more features later.</p>


<h4>Combining props with template HTML</h4>

<p>In the previous example, we showed how text can be rendered using
substitutions. Next let's see how such substitutions can be used to generate
more complex HTML code.</p>

<p>Examine the following component definition. This component definition is the
same definition for the <code>x-ExampleBtn</code> that was referenced in the
previous challenge:</p>

<mws-demo text="
<Component name=&quot;ExampleBtn&quot;>

    <Props
        label
        shape
    ></Props>

    <Template>
        <button class=&quot;my-btn  my-btn__{{ props.shape }}&quot;>
            {{ props.label }}
        </button>
    </Template>

    <!-- (Note: The <Style> CPart was omitted for simplicity) -->
</Component>
" modulo-original-html=""><div class="demo-wrapper
        
           demo-wrapper__clipboard  
        
        demo-wrapper__notabs     
    ">
    

    <div class="editor-toolbar">
        <p style="font-size: 11px; width: 120px; margin-right: 10px; text-align: right;
                     display: none; ">
            <em>Note: This is meant for exploring features. Your work will not be saved.</em>
        </p>

        
            <button class="m-Btn m-Btn--sm m-Btn--faded" title="Copy this code" @click:="script.doCopy">
                Copy <span alt="Clipboard">📋</span>
            </button>
        

        

    </div>

    <div class="side-by-side-panes">
        <div class="editor-wrapper">
            <div [script.codemirror]="" modulo-ignore=""><div class="CodeMirror cm-s-eclipse" translate="no"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 4px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" readonly="" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="bottom: 0px; width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 50px; min-height: 278px; min-width: 631.109px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 18px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Component</span> <span class="cm-attribute">name</span>=<span class="cm-string">"ExampleBtn"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Props</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-attribute">label</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-attribute">shape</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">Props</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Template</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">button</span> <span class="cm-attribute">class</span>=<span class="cm-string">"my-btn  my-btn__</span><span class="cm-tag">{{</span><span class="cm-null"> </span><span class="cm-variable">props</span><span class="cm-null">.</span><span class="cm-property">shape</span><span class="cm-null"> </span><span class="cm-tag">}}</span><span class="cm-string">"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-tag">{{</span><span class="cm-null"> </span><span class="cm-variable">props</span><span class="cm-null">.</span><span class="cm-property">label</span><span class="cm-null"> </span><span class="cm-tag">}}</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">button</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">Template</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">&lt;!-- (Note: The &lt;Style&gt; CPart was omitted for simplicity) --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">Component</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 50px; width: 1px; border-bottom: 0px solid transparent; top: 278px;"></div><div class="CodeMirror-gutters" style="display: none; height: 328px;"></div></div></div></div>
        </div>

        

    </div>
</div>

</mws-demo>


<p>At this point, we can finally begin to understand the
<code>&lt;x-ExampleBtn&gt;</code> component that we were using previously. In
this case, the value of the <code>label="Example Button"</code> prop gets
inserted as the text content of the button element, and the
<code>shape="round"</code> prop value gets inserted in the <code>class=</code>
attribute of the button element.  Thus, if the shape prop receives the value of
"round", the button gets the CSS class of <code>.my-btn__round</code>, and
similarly if it received the value of "square", it'd get the class
<code>.my-btn__square</code>. These CSS classes, as you may have guessed, are
what controls the look of the button, either giving it rounded edges or a more
rectangular, towering look.</p>


<section class="Tutorial-tryit">
    <h4>Try it now</h4>
    <p>Okay, let's take this new concept and apply it to our previous
    HelloWorld component. Go back to the project you were working on
    previously, and follow these steps to practice adding props to your
    component:</p>
    <ol>
        <li>Examine your <code>HelloWorld</code> component definition. Near the
        top, just below the "&lt;component..." opening tag, add a
        <em>Props</em> CPart, just like the examples before.</li>
        <li>Experiment with specifying props. For example, to keep building
        this tutorial app, give it the props of <code>goal</code> and
        <code>amount</code>.</li>

        <li>If done correctly, your component definition will start something
        like this:
<mws-demo text="
<Component name=&quot;HelloWorld&quot;>
    <Props
        goal
        amount
    ></Props>
    <!-- ... snip ... -->
</Component>
" modulo-original-html=""><div class="demo-wrapper
        
           demo-wrapper__clipboard  
        
        demo-wrapper__notabs     
    ">
    

    <div class="editor-toolbar">
        <p style="font-size: 11px; width: 120px; margin-right: 10px; text-align: right;
                     display: none; ">
            <em>Note: This is meant for exploring features. Your work will not be saved.</em>
        </p>

        
            <button class="m-Btn m-Btn--sm m-Btn--faded" title="Copy this code" @click:="script.doCopy">
                Copy <span alt="Clipboard">📋</span>
            </button>
        

        

    </div>

    <div class="side-by-side-panes">
        <div class="editor-wrapper">
            <div [script.codemirror]="" modulo-ignore=""><div class="CodeMirror cm-s-eclipse" translate="no"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 4px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" readonly="" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 50px; min-height: 134px; min-width: 285.484px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 18px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Component</span> <span class="cm-attribute">name</span>=<span class="cm-string">"HelloWorld"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Props</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-attribute">goal</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-attribute">amount</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">Props</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-comment">&lt;!-- ... snip ... --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">Component</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 50px; width: 1px; border-bottom: 0px solid transparent; top: 134px;"></div><div class="CodeMirror-gutters" style="display: none; height: 184px;"></div></div></div></div>
        </div>

        

    </div>
</div>

</mws-demo>
        </li>

        <li>Update the template to now use these props somewhere. For the
        tutorial example, we'll be building a little "clicker" that will count
        up to a number (the "goal") by an increment amount (the "amount"). So,
        for now, let's just display the goal prop and amount prop:</li>
<mws-demo text="
<Template>
    Hello <strong><slot></slot></strong> World!
    <p>Goal: {{ props.goal }}</p>
    <p>Amount: {{ props.amount }}</p>
</Template>
" modulo-original-html=""><div class="demo-wrapper
        
           demo-wrapper__clipboard  
        
        demo-wrapper__notabs     
    ">
    

    <div class="editor-toolbar">
        <p style="font-size: 11px; width: 120px; margin-right: 10px; text-align: right;
                     display: none; ">
            <em>Note: This is meant for exploring features. Your work will not be saved.</em>
        </p>

        
            <button class="m-Btn m-Btn--sm m-Btn--faded" title="Copy this code" @click:="script.doCopy">
                Copy <span alt="Clipboard">📋</span>
            </button>
        

        

    </div>

    <div class="side-by-side-panes">
        <div class="editor-wrapper">
            <div [script.codemirror]="" modulo-ignore=""><div class="CodeMirror cm-s-eclipse" translate="no"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 4px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" readonly="" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 50px; min-height: 98px; min-width: 458.312px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 18px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Template</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    Hello <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">strong</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">slot</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">slot</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">strong</span><span class="cm-tag cm-bracket">&gt;</span> World!</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span>Goal: <span class="cm-tag">{{</span><span class="cm-null"> </span><span class="cm-variable">props</span><span class="cm-null">.</span><span class="cm-property">goal</span><span class="cm-null"> </span><span class="cm-tag">}}</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span>Amount: <span class="cm-tag">{{</span><span class="cm-null"> </span><span class="cm-variable">props</span><span class="cm-null">.</span><span class="cm-property">amount</span><span class="cm-null"> </span><span class="cm-tag">}}</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">Template</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 50px; width: 1px; border-bottom: 0px solid transparent; top: 98px;"></div><div class="CodeMirror-gutters" style="display: none; height: 148px;"></div></div></div></div>
        </div>

        

    </div>
</div>

</mws-demo>

        <li>Refresh the web browser to view the results. Assuming you still
        have the component displaying somewhere on your page, if done
        correctly, you will see your component update to reflect the changes
        you made to your template, possibly something  like "Goal: undefined"
        and "Amount: undefined".</li>

        <li><strong>Comprehension question: If you see the text "undefined",
        why do you think that is?</strong></li>

        <li>Answer: If you are seeing "undefined", it's probably because you
        are not passing in the Props that are required.</li>

        <li>To fix this, we need to specify the props in the location where we
        are <em>reusing</em> or actually displaying the component on the page.
        This is done by adding attributes with the names "goal" and "amount" to
        the component tag instances.</li>

        <li>If you have made a lot of changes since <em>Part 1</em> of this
        tutorial or did not follow the naming suggestions, your code may end
        looking different than this. However, if that's not the case, your code
        might end up looking like this:
<mws-demo text="
<div>
    <x-HelloWorld
        goal=&quot;10&quot;
        amount=&quot;2&quot;
    ></x-HelloWorld>
    <p>In a P tag:
        <x-HelloWorld
            goal=&quot;10&quot;
            amount=&quot;2&quot;
        ></x-HelloWorld>
    </p>
</div>
" modulo-original-html=""><div class="demo-wrapper
        
           demo-wrapper__clipboard  
        
        demo-wrapper__notabs     
    ">
    

    <div class="editor-toolbar">
        <p style="font-size: 11px; width: 120px; margin-right: 10px; text-align: right;
                     display: none; ">
            <em>Note: This is meant for exploring features. Your work will not be saved.</em>
        </p>

        
            <button class="m-Btn m-Btn--sm m-Btn--faded" title="Copy this code" @click:="script.doCopy">
                Copy <span alt="Clipboard">📋</span>
            </button>
        

        

    </div>

    <div class="side-by-side-panes">
        <div class="editor-wrapper">
            <div [script.codemirror]="" modulo-ignore=""><div class="CodeMirror cm-s-eclipse" translate="no"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 4px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" readonly="" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="bottom: 0px; width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 50px; min-height: 224px; min-width: 237.453px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 18px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">x-HelloWorld</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-attribute">goal</span>=<span class="cm-string">"10"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-attribute">amount</span>=<span class="cm-string">"2"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">x-HelloWorld</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span>In a P tag:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">x-HelloWorld</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-attribute">goal</span>=<span class="cm-string">"10"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-attribute">amount</span>=<span class="cm-string">"2"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        <span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">x-HelloWorld</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 50px; width: 1px; border-bottom: 0px solid transparent; top: 224px;"></div><div class="CodeMirror-gutters" style="display: none; height: 274px;"></div></div></div></div>
        </div>

        

    </div>
</div>

</mws-demo>

        </li>
    </ol>

    <p><strong>Bonus Challenge:</strong> Read ahead about <em>template
    filters</em>, and try using those here.</p>
</section>


<h3>Template filters</h3>

<p>The Modulo templating language has two more big features: <em>filters</em>
(for formatting values), and <em>template-tags</em> (for control-flow). We'll
briefly introduce <em>filters</em> now, but for a more thorough introduction to
the Modulo templating language, you should <a href="/docs/templating.html">read
the Templating section</a>.</p>

<p>Template <em>filters</em> format or otherwise transform template variables.
The template filter syntax consists of taking a template variable and adding a
vertical bar followed the name of a filter (e.g.
<code>varName|filterName</code>). The following example will transform the text
contained in the <code>props.name</code> template variable to make it all
uppercase:</p>

<pre>Hello {{ props.name|upper }}</pre>

<p>Some filters can also take extra modifiers or options. This is called the
template filter <em>argument</em>. Do you recall how our previous ExampleBtn
component only supported either "round" or "square" as CSS classes? In this
next example, we are going to use the <code>|allow</code> template filter to
ensure that only "round" or "square" are permitted: </p>

<pre>&lt;button class="my-btn my-btn__{{ props.shape|allow:"round,square" }}"&gt;
    (... snip ...)
&lt;/button&gt;</pre>

<p>Note how the argument is separated from the filter with a colon: The general
syntax is <code>varName|filterName:"argument"</code>. Thus, the
<code>|allow:"round,square"</code> filter instructs Modulo to <em>only</em>
output the property of <code>props.shape</code> if it exactly matches the text
"round" or "square".</p>

<p>You can do more than this with filters: You can string together the dozens
of available filters for more powerful combinations, and by using JavaScript
script tags (covered in Part 3) you can easily author your own.
The full <a href="/docs/templating-reference.html">Templating Reference</a> has
examples of all filters available.</p>


<h3>Template tags</h3>

<p>In addition to filters, the Modulo templating language also support powerful
"template tags", which allow for more complicated custom behavior. This
includes the "if" template-tag, which allows for conditional rendering (e.g.
"only show the submit button if a form is filled correctly"), and the "for"
template-tag, which allows for HTML to be repeated for each item of some given
data (e.g.  "every blog post get's it's own <code>&lt;li&gt;</code> element").
The full <a href="/docs/templating-reference.html">Templating Reference</a> has
examples of the different template tags available.</p>



<!--
<section class="Tutorial-tryit">
    <h4>Try it now</h4>
    <p>Edit the component definition on the left, and click RUN to see the
    results on the right!</p>

    <ol>
        <li>Practice modifying the <strong>Template</strong> CPart
        (<code>&lt;Template&gt;</code>) to see how that affects the
        output</li>
        <li>Practice modifying the <strong>Style</strong> CPart
        (<code>&lt;Style&gt;</code>) to add or modify CSS</li>
        <li>Practice incorporating these CParts into your own components on
        a real page by copying the code here and pasting it within your
        component definition (that is, the one that you created in the
        previous part of this tutorial)</p>
    </ol>
    <mws-Demo
        demotype="minipreview"
        fromlibrary="Tutorial_P2_filters_demo"
    ></mws-Demo>
</section>
-->



<mws-section name="build" modulo-original-html="3. Build">
        <a class="secanchor" title="Click to focus on this section." id="build" name="build" href="#build">#</a>
        <h2>3. Build</h2>
    </mws-section>


<blockquote> <p><strong>Why build?</strong>
Let's start with a "thought experiment", where we fast forward into the
future. Imagine that as you create more and more components, you begin
splitting them up into more component libraries. Also, as mentioned previously,
perhaps you find some nice component libraries that others have made that you
want to use in your project. In the end, you might find yourself with dozens of
HTML files being loaded, scattered in different directories.
</p>

<p>In this situation you will have too many <code>&lt;load&gt;</code> tags,
meaning your page may take a long time to start-up.  As it's downloading all
the different files, the browser will be showing the ugly, unformatted text in
the mean-time.  On slow connections, this could be end up being a frustrating
experience for users. This is why building to one file is useful.</p>
</blockquote>

<p>We've got one more topic for <em>Part 2</em> of the Modulo tutorial:
How to keep your project manageable and loading fast as <em>Component</em>
definitions grow and larger.</p>

<h3>Splitting off larger CParts with <code>src=</code></h3>

<p>A convenient feature of Modulo is the ability to "split off" CParts into
separate files. This can be done by cutting out the contents of a CPart, and
pasting it in a new file, and then saving this new file in the same directory
as your library. Then, to re-include it, add a <code>src=</code> attribute to
CPart. By default, <code>src=</code> is supported by any CPart that uses it's
contents, meaning <em>Template</em> and <em>Style</em> are the only two that
we've learned so far that support it.</p>

<p>For example, you can split off a <em>Template</em> into it's own separate
file, as such:</p>

<pre>&lt;Template
    src="./my-file-name.html"
&gt;&lt;/Template&gt;</pre>


<p>Similarly, you can split off a <em>Style</em> as well:</p>

<pre>&lt;Style
    src="./some/other/path.css"
&gt;&lt;/Style&gt;</pre>

<p>The rules for <code>src=</code> relative paths are similar to HTML's rules:
Any URI path can be specified, and use a dot (<code>.</code>) to specify a path
relative to the current HTML file (e.g. the <em>Component</em> library file).
The behavior is the exact same as if you had included the text in the same
file, meaning this feature is only intended to be used when a component library
gets too long and difficult to edit. In that case, conventional usage is to
start splitting off larger CParts into their own files, until the HTML library
file itself is just tie-ing everything together.</p>

<p>However, there is a downside to splitting up your files: Each new file you
create will require an additional request to load it. This means that each
additional individual file you include in a page will cause the page to take a
little longer to loader. So, if <code>src=</code> causes it to load slower, how
can we stay neat during development, but still have a fast site? This is where
"building" comes into play.</p>

<h3>Modulo build: Packing it all up</h3>

<p>"Building" is a feature of Modulo where it will pack up all the components
you have loaded on a particular page into a single JS file. This single JS
file, called a <em>build</em>, will contain all the code from all your
components (including CParts that were split off using <code>src=</code>).
Once the "build" file is included using a
<code>&lt;script&nbsp;src="..."&gt;</code> tag, then all subsequent
<code>&lt;load&gt;</code> tags on that page will not actually fetch the
original HTML file that they are pointed to, but instead load the "built"
version from the JS file. This causes the page to load very quickly, even
faster than during development.  Generally, developers create builds before
"launching" their site to "production" (e.g. publishing their site for the
world to see), since it results in the fastest possible loading time.</p>

<p>To build a project, we will need to run a <em>Modulo Console Command</em>.
The <em>console</em> is a feature of all web browsers. As a web developer you
likely have used it: It's a panel, hidden by default, where JS, CSS, and other
such error messages are displayed. While most JS frameworks require NPM-based
tools to build,  Modulo can be built right from your browser's console, simply
by typing <code>m.build()</code> and hitting enter.</p>



<section class="Tutorial-tryit">
    <h4>Try it now</h4>
    <ol>
        <li>Open up your HTML file in your browser (e.g. Firefox or
        Chrome/Chromium). Do not open your component library HTML files: Be
        sure to open the file that <em>is doing the importing</em> and
        <em>using the components</em>, not the file(s) that contain the
        component definitions themselves.</li>

        <li>Bring up the console: Press <code>Control+Shift+J</code> (Linux,
        Windows) or <code>Command+Option+J</code> (macOS) on your keyboard to
        open the Console. Alternatively, you can right-click with your mouse
        and select "Inspect", and then go to the <em>Console</em> tab.</li>

        <li><em>Optional:</em> Within the newly opened developer tools,
        navigate for a moment to the "Network" tab.  Force refresh your
        browser. You should see a list of "requests" being sent, including one
        for each component library that needs loading.  For example, if we
        named our component library "./components/my-component-lib.html", we'll
        see an additional request for this HTML file. If we had further split
        our files using "src=", we'll see even more requests.</li>

        <li>Ensuring that the "Console" tab is selected, now type
        <code>m.build()</code> and hit enter.</li>

        <li>It should either immediately download a CSS and JS file, or offer
        to download them. These are the "build" files, and contain the contents
        of all libraries that were loaded on this page, with underlying
        JavaScript pre-compiled for speed and security. Save these files
        somewhere, such as in a "js" directory, or next to the HTML file that
        you have open in your browser.</li>

        <li>Now, let's practice updating our HTML file to use the build.  The
        end result might look something like this:
<mws-demo text="
<!-- Add in built JS file (Remember: Ensure the path is correct!) -->
<link rel=&quot;stylesheet&quot; href=&quot;./modulo-build.(some hash goes here).css&quot; />
<script src=&quot;https://modulojs.org/js/Modulo.js&quot;></script>
<script src=&quot;./modulo-build.(some hash goes here).js&quot;></script>

<!-- KEEP your old loading code: -->
<Modulo>
    <Load src=&quot;./components/my-component-lib.html&quot; namespace=&quot;lib&quot; ></Load>
</Modulo>

<!-- Make sure we defineAll (but only AFTER the script tags) -->
<script>Modulo.defineAll();</script>

<!-- Now, the components we define can be used just like before: -->
<div>
    <x-HelloWorld goal=&quot;10&quot; amount=&quot;2&quot; ></x-HelloWorld>
    <p>In a P tag: <x-HelloWorld goal=&quot;10&quot; amount=&quot;2&quot; ></x-HelloWorld> </p>
</div>
" modulo-original-html=""><div class="demo-wrapper
        
           demo-wrapper__clipboard  
        
        demo-wrapper__notabs     
    ">
    

    <div class="editor-toolbar">
        <p style="font-size: 11px; width: 120px; margin-right: 10px; text-align: right;
                     display: none; ">
            <em>Note: This is meant for exploring features. Your work will not be saved.</em>
        </p>

        
            <button class="m-Btn m-Btn--sm m-Btn--faded" title="Copy this code" @click:="script.doCopy">
                Copy <span alt="Clipboard">📋</span>
            </button>
        

        

    </div>

    <div class="side-by-side-panes">
        <div class="editor-wrapper">
            <div [script.codemirror]="" modulo-ignore=""><div class="CodeMirror cm-s-eclipse" translate="no"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 4px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" readonly="" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="bottom: 0px; width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 50px; min-height: 332px; min-width: 727.203px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 18px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">&lt;!-- Add in built JS file (Remember: Ensure the path is correct!) --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">link</span> <span class="cm-attribute">rel</span>=<span class="cm-string">"stylesheet"</span> <span class="cm-attribute">href</span>=<span class="cm-string">"./modulo-build.(some hash goes here).css"</span> <span class="cm-tag cm-bracket">/&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span> <span class="cm-attribute">src</span>=<span class="cm-string">"https://modulojs.org/js/Modulo.js"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span> <span class="cm-attribute">src</span>=<span class="cm-string">"./modulo-build.(some hash goes here).js"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">&lt;!-- KEEP your old loading code: --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Modulo</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Load</span> <span class="cm-attribute">src</span>=<span class="cm-string">"./components/my-component-lib.html"</span> <span class="cm-attribute">namespace</span>=<span class="cm-string">"lib"</span> <span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">Load</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">Modulo</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">&lt;!-- Make sure we defineAll (but only AFTER the script tags) --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-variable">Modulo</span>.<span class="cm-property">defineAll</span>();<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">&lt;!-- Now, the components we define can be used just like before: --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">x-HelloWorld</span> <span class="cm-attribute">goal</span>=<span class="cm-string">"10"</span> <span class="cm-attribute">amount</span>=<span class="cm-string">"2"</span> <span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">x-HelloWorld</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span>In a P tag: <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">x-HelloWorld</span> <span class="cm-attribute">goal</span>=<span class="cm-string">"10"</span> <span class="cm-attribute">amount</span>=<span class="cm-string">"2"</span> <span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">x-HelloWorld</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 50px; width: 1px; border-bottom: 0px solid transparent; top: 332px;"></div><div class="CodeMirror-gutters" style="display: none; height: 382px;"></div></div></div></div>
        </div>

        

    </div>
</div>

</mws-demo></li>

        <li><em>Optional:</em> Time to validate that the "build" worked!
        Navigate to the "Network" tab of your Development Console. Force
        refresh your browser. You should now see no more extra "requests" being
        sent for each HTML component library that needs to be loaded. Instead,
        just the JS "build" file "preloads" all the individual files in one
        go.</li>
    </ol>


    <p><strong>Important: Undo it all!</strong> Before going on to Part 3 of
    this tutorial, remember to switch back to using the load tag, e.g.
    commenting out the script and link tags with the bundle. This is because
    you will continue to edit this component library as part of the tutorial.
    The build "freezes" the component library in time, and you'll have to run
    build again if you change anything.  A common mistake is forgetting that
    you are editing the original <code>.html</code> file while using the built
    <code>.js</code> version, causing much confusion as to why your changes
    don't take effect!</p>

</section>


<h3>Modulo bundle: Packing up even further</h3>

<p><em>NOTE: m.bundle is not yet fully implemented!</em></p>

<p>So, we've learned how to "build" our components into a single JS file, which
prevents extra requests. However, it doesn't solve the issue of having to do a
separate request for the Modulo source code, or the possibly verbose or messy
"boilerplate" which you need to copy between every HTML file. Furthermore, if
you intend to incorporate more JS files or libraries, we could end up making
many requests again. This is where Modulo's "bundle" command comes into
play.</p>

<p>Modulo also has a "bundle" command. A "bundle" goes even further than a
build: A "bundle" will include the Modulo.js source code as well, along with
any other JS files that are loaded. This allows you to delete ALL the script
tags, load commands, and so on, and include only a single script tag with the
bundle and a single link for the CSS. This "bundle" can then be used on any
page to immediately activate your components.</p>

<mws-demo text="
<!-- Include the output of the bundle command: -->
<link rel=&quot;stylesheet&quot; href=&quot;./modulo-bundle.(some hash goes here).css&quot; />
<script src=&quot;./modulo-bundle.(some hash goes here).js&quot;></script>

<!-- Now, the components we define can be used just like before: -->
<x-HelloWorld goal=&quot;10&quot; amount=&quot;2&quot; ></x-HelloWorld>
<!-- (no need for <template modulo-embed> or <Load> - already &quot;bundled&quot;) -->
" modulo-original-html=""><div class="demo-wrapper
        
           demo-wrapper__clipboard  
        
        demo-wrapper__notabs     
    ">
    

    <div class="editor-toolbar">
        <p style="font-size: 11px; width: 120px; margin-right: 10px; text-align: right;
                     display: none; ">
            <em>Note: This is meant for exploring features. Your work will not be saved.</em>
        </p>

        
            <button class="m-Btn m-Btn--sm m-Btn--faded" title="Copy this code" @click:="script.doCopy">
                Copy <span alt="Clipboard">📋</span>
            </button>
        

        

    </div>

    <div class="side-by-side-panes">
        <div class="editor-wrapper">
            <div [script.codemirror]="" modulo-ignore=""><div class="CodeMirror cm-s-eclipse" translate="no"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 4px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" readonly="" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="height: 18px; pointer-events: auto;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 50px; min-height: 134px; min-width: 736.719px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 4px; top: 0px; height: 18px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">&lt;!-- Include the output of the bundle command: --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">link</span> <span class="cm-attribute">rel</span>=<span class="cm-string">"stylesheet"</span> <span class="cm-attribute">href</span>=<span class="cm-string">"./modulo-bundle.(some hash goes here).css"</span> <span class="cm-tag cm-bracket">/&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span> <span class="cm-attribute">src</span>=<span class="cm-string">"./modulo-bundle.(some hash goes here).js"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">&lt;!-- Now, the components we define can be used just like before: --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">x-HelloWorld</span> <span class="cm-attribute">goal</span>=<span class="cm-string">"10"</span> <span class="cm-attribute">amount</span>=<span class="cm-string">"2"</span> <span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">x-HelloWorld</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">&lt;!-- (no need for &lt;template modulo-embed&gt; or &lt;Load&gt; - already "bundled") --&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 50px; width: 1px; border-bottom: 0px solid transparent; top: 134px;"></div><div class="CodeMirror-gutters" style="display: none; height: 184px;"></div></div></div></div>
        </div>

        

    </div>
</div>

</mws-demo>

<h3>Part 2: Summary</h3>

<p>In this tutorial, we learned how to specify props as attributes to use and
configure other people's components and how to define the <em>Props</em> CPart
which allows our components to be configured via attributes when used. We
learned how to use Modulo's templating language to include variables and format
values using filters, and finally wrapped up with trying Modulo's self-building
feature.</p>


<h4>Key terms</h4>

<ul>
<li> <strong>Props</strong> - A CPart used to specify attributes, that the user
of a component can use to configure that Component</li>

<li><strong>Template variable</strong> and <strong>template filter</strong> -
Modulo's Templating language can include template variables (e.g.  <code>{{
props.name }}</code>) mixed in with the HTML, and possibly modified or
reformatted by attaching template filters (e.g. <code>{{ props.name|upper
}}</code>)</li>

<li><strong>build</strong> - Combining all your JS and CSS together into a
single file that loads faster. "Bundling" will also "freeze" in the "Load"
commands along with any extra JS or CSS files.</li>
</ul>


<h4>Next step</h4>

<p>At this point, you've learned enough to be dangerous! If you intend to
mostly use Modulo as a template developer, refactoring HTML into template-based
web components, then you are all ready to get going.  Feel free to try using
Modulo to refactor your HTML, be sure to test on all target browsers (Modulo is
still under development, after all), and then finally use the self-packing to
include a JS file that loads quickly. To improve your template development
skills, you might only want to read deeper on the <a href="/docs/templating.html">Modulo templating language's capabilities</a></p>

<p>However, if you are at least a little familiar with JavaScript and/or
React-style SPA frameworks, and want to learn how to make more complex,
interactive applications using State and Script, then get going with <a href="/docs/tutorial_part3.html">Part 3: State and Script</a></p>

<p><a class="m-Btn" href="/docs/tutorial_part3.html">
    Part 3: Props, Templating, and Building »
</a></p>

</aside>
    </main>


<footer>
    <main>
        (C) 2022 - Michael Bethencourt - Documentation under LGPL 3.0
    </main>
</footer>



</body>