<head><script src="/m.js"></script>
<script src="/js/codemirror_5.63.0/codemirror_bundled.js"></script><style id="e1g1-Example_style">
e1g1-Example nav {
    background: black;
    color: gray;
    padding: 3px;
}
e1g1-Example a {
    color: lightblue;
    text-decoration: underline;
    cursor: pointer;
}
</style><style id="e2g1-Example_style">
e2g1-Example nav {
    background: black;
    color: gray;
    padding: 3px;
}
e2g1-Example a {
    color: lightblue;
    text-decoration: underline;
    cursor: pointer;
}
</style></head><body>


    <meta charset="utf8">
    <title>CParts - modulojs.org</title>
    <link rel="stylesheet" href="/js/codemirror_5.63.0/codemirror_bundled.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="icon" type="image/png" href="/img/mono_logo.png">
    

    <!-- TODO: Switch to <module><load> style syntax -->
    <!--
    <mod-load src="/components/modulowebsite.html" namespace="mws"></mod-load>
    <mod-load src="/components/examplelib.html" namespace="eg"></mod-load>
    <mod-load src="/components/embeddedexampleslib.html" namespace="docseg"></mod-load>
    -->



<nav class="Navbar">
    <a href="/index.html"><img src="/img/mono_logo.png" style="height:70px" alt="Modulo"></a>
    <ul>
        <li>
            <a href="/index.html#about">About</a>
        </li>
        <li>
            <a href="/start.html">Start</a>
        </li>
        <li>
            <a href="/docs/" class="Navbar--selected">Docs</a>
        </li>
    </ul>

    <div class="Navbar-rightInfo">
        v: undefined<br>
        SLOC: undefined lines<br>
        <a href="https://github.com/michaelpb/modulo/">github</a> | 
        <a href="https://npmjs.com/michaelpb/modulo/">npm</a> 
    </div>
</nav>


    <main class="Main Main--fluid Main--withSidebar">
        <aside class="TitleAside TitleAside--navBar">
            <h3><span alt="Lower-case delta">%</span></h3>
            <nav class="TitleAside-navigation">
                <h3>Documentation</h3>
                <mws-docsidebar path="cparts.html">
<ul>
    
        <li class="
            
            "><a href="/docs/">Table of Contents</a>
            
        </li>
    
        <li class="
            
                ginactive
            
            "><a href="/docs/tutorial.html">Tutorial</a>
            
        </li>
    
        <li class="
            
                gactive
            
            "><a href="/docs/cparts.html">CParts</a>
            
                
                    <ul>
                    
                        <li><a href="/docs/cparts.html#component">Component</a>
                        
                        </li>
                    
                        <li><a href="/docs/cparts.html#props">Props</a>
                        
                        </li>
                    
                        <li><a href="/docs/cparts.html#template">Template</a>
                        
                        </li>
                    
                        <li><a href="/docs/cparts.html#state">State</a>
                        
                        </li>
                    
                        <li><a href="/docs/cparts.html#script">Script</a>
                        
                        </li>
                    
                        <li><a href="/docs/cparts.html#style">Style</a>
                        
                        </li>
                    
                        <li><a href="/docs/cparts.html#custom">Custom CParts API</a>
                        
                        </li>
                    
                    </ul>
                
            
        </li>
    
        <li class="
            
                ginactive
            
            "><a href="/docs/templating.html">Templating</a>
            
        </li>
    
        <li class="
            
                ginactive
            
            "><a href="/docs/testing.html">Testing &amp; Debugging</a>
            
        </li>
    
        <li class="
            
                ginactive
            
            "><a href="/docs/directives.html">Lifecycle &amp; Directives</a>
            
        </li>
    
        <li class="
            
                ginactive
            
            "><a href="/docs/templating-reference.html">Template Reference</a>
            
        </li>
    
        <li class="
            
                ginactive
            
            "><a href="/docs/example-library.html">Example Library</a>
            
        </li>
    
        <li class="
            
                ginactive
            
            "><a href="/docs/project-info.html">Project Info</a>
            
        </li>
    


    <!--
    <li>
        Other resources:

        <ul>
            <li>
                <a href="/docs/faq.html">FAQ</a>
            <li title="Work in progress: Finalizing source code and methodically annotating entire file with extensive comments.">
                Literate Source*<br /><em>* Coming soon!</em>
            </li>
        </ul>

    </li>
    -->
    <!--<a href="/literate/src/Modulo.html">Literate source</a>-->
</ul>
</mws-docsidebar>
            </nav>
        </aside>
        <aside style="border: none">
            

<h1>CParts</h1>

<p>The central concept to Modulo is that of <em>Component Parts</em>. Because
it is so central, saying <em>Component Parts</em> over and over gets tiresome,
so it's typically shortened to <em>CParts</em>.</p>

<p>Every component definition consists of configuring one or more CPart
definitions. In fact, the <em>Component</em> CPart



<mws-section name="spares">
        <a class="secanchor" title="Click to focus on this section." id="spares" name="spares" href="#spares">#</a>
        <h2>CPart Spares</h2>
    </mws-section>

</p><p>If you have extra car parts lying around, you call them <em>spare
parts</em>, or just "spares". In Modulo, extra or inactive CParts are also
called Spares.</p>


<h3>Mechanics of Spares</h3>

<p>The use for this might be to have more than one <em>Template</em> that can
be switched out depending on what data model is being used, more than one
<em>State</em> to allow for both private and shared data between components, or
more than one <em>Script</em> to be swapped to quickly change behavior based on
if the user is logged in or out. Many of these things might be doable without
CPart spares, such as with if-statements, but spares provide a paradigm for
working comfortably with multiple CParts.</p>

<p>When you have duplicate CParts of the same type in a component, <em>only
one</em> CPart a time of each type is the "active" CPart, accessible in the
<code>element.cparts</code> object. That is to say, there can never be more
than one active CPart.  Both the active and extra (spare) CParts are available
in <code>element.cpartSpares</code>. Simply by assigning a property of
<code>element.cparts</code> you can select which one is active.</p>

<p>By default, the last CPart defined will be the active CPart.</p>

<p>For a concrete example, examine how the following behaves:</p>

<mws-demo demotype="minipreview" text="
<template name=&quot;shop&quot;>
    <nav>Shop|<a @click:=script.swap payload=&quot;home&quot;>Home</a></nav>
    <h1>Shop</h1>
    <p>$10 - A banana</p>
</template>
<template name=&quot;home&quot;>
    <nav><a @click:=script.swap payload=&quot;shop&quot;>Shop</a>|Home</nav>
    <h1>Home</h1>
    <p>Welcome to my banana stand!</p>
</template>
<script>
    // swap: Set the active cpart by searching through the spare
    // array and selecting the one with a name matching payload:
    function swap(ev, payload) {
        element.cparts.template = element.cpartSpares.template
            .find(({attrs}) => attrs.name === payload);
    }
</script>

<!-- some basic styling -->
<style>
nav {
    background: black;
    color: gray;
    padding: 3px;
}
a {
    color: lightblue;
    text-decoration: underline;
    cursor: pointer;
}
</style>
"><div class="demo-wrapper
             demo-wrapper__minipreview
        
        
        demo-wrapper__notabs     
    ">
    

    <div class="editor-toolbar">
        <p style="font-size: 11px; width: 120px; margin-right: 10px; text-align: right;
                     display: none; ">
            <em>Note: This is meant for exploring features. Your work will not be saved.</em>
        </p>

        

        
            <button class="m-Btn" title="Toggle full screen view of code" @click:="script.doFullscreen">
                
                    <span alt="Go Full Screen">↗</span>
                
            </button>
            &nbsp;
            <button class="m-Btn" title="Run a preview of this code" @click:="script.doRun">
                Run <span alt="Refresh">⟳</span>
            </button>
        

    </div>

    <div class="side-by-side-panes">
        <div class="editor-wrapper">
            <div modulo-ignore="">
            </div>
        </div>

        
            <div class="editor-minipreview">
                <div modulo-ignore="">
                    <e2g1-example mm-ignore="mm-ignore">
    <nav><a @click:="script.swap" payload="shop">Shop</a>|Home</nav>
    <h1>Home</h1>
    <p>Welcome to my banana stand!</p>
</e2g1-example>
                </div>
            </div>
        

    </div>
</div>

</mws-demo>


<p><strong>Note:</strong> Swapping templates should <em>not</em> be a suitable
replacement for real links or an adequate frontend routing system. In other
words, consider swapping templates as a technique only for things like
alternate themes, filter views, logged-in vs logged-out, and other such
scenarios, but not for general page navigation. This is because they break
many web standards, confuse search bots crawling for SEO, and ruin user
experience by not looking like links for accessibility purposes, having no URL,
and no effect on browser history.</p>


<h3>CPart spares and renderObj</h3>

<p>CPart spares (inactive CParts) can still influence your component, even if
they are never activated.
Specifically, they still get the <code>loadCallback</code> and
<code>factoryCallback</code> invoked, meaning they still contribute to the
<code>loadObj</code> and the <code>baseRenderObj</code> like any other CPart of
their type (<a href="/docs/directives.html#renderobj">see relevant docs on
these renderObj</a>). For some types of spares, this effectively causes them to
be "squashed" into a single renderObj.</p>



        </aside>
    </main>


<footer>
    <main>
        (C) 2021 - Michael Bethencourt - Documentation under LGPL 3.0
    </main>
</footer>




</body>